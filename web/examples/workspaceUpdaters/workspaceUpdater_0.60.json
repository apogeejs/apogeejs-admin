{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":-1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"workspaceUpdated_0.60","children":{"Main":{"name":"Main","type":"apogee.Folder","children":{"inputFile":{"name":"inputFile","type":"apogee.JsonMember","updateData":{"data":""}},"outputFile":{"name":"outputFile","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return namesFixed;","supplementalCode":""}},"references":{"name":"references","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return {\"refEntries\":inputFile.references};","supplementalCode":""}},"components":{"name":"components","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"if(!inputFile.workspace) return apogeeutil.INVALID_VALUE;\n\nlet rootComponent = inputFile.components;\nlet rootName = inputFile.workspace.data.name;\n\nlet components = {};\ncomponents[rootName] = rootComponent;\n\nreturn components;","supplementalCode":""}},"combined":{"name":"combined","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return {\n    \"fileType\": \"apogee app js workspace\",\n    \"version\": \"0.60\",\n    \"references\": references,\n    \"code\": {\n        \"model\": model, \n        \"components\": components\n    }\n};\n","supplementalCode":""}},"model":{"name":"model","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"if(!inputFile.workspace) return apogeeutil.INVALID_VALUE;\n\nlet model = apogeeutil.jsonCopy(inputFile.workspace);\n\nmodel.fileType = \"apogee model\"\nmodel.version = 0.3;\n\nlet child = model.data;\ndelete model.data;\n\nmodel.children = {};\nmodel.children[child.name] = child;\n\nreturn model;","supplementalCode":""}},"nameChanges":{"name":"nameChanges","type":"apogee.JsonMember","updateData":{"data":[["\"apogee.JsonTable\"","\"apogee.JsonMember\"\r"],["\"apogee.FunctionTable\"","\"apogee.FunctionMember\"\r"],["\"apogee.ErrorTable\"","\"apogee.ErrorMember\"\r"],["\"apogeeapp.app.JsonTableComponent\"","\"apogeeapp.JsonCell\"\r"],["\"apogeeapp.app.FunctionComponent\"","\"apogeeapp.FunctionCell\"\r"],["\"apogeeapp.app.FolderComponent\"","\"apogeeapp.PageComponent\"\r"],["\"apogeeapp.app.FolderFunctionComponent\"","\"apogeeapp.PageFunctionComponent\"\r"],["\"apogeeapp.app.DynamicForm\"","\"apogeeapp.ActionFormCell\"\r"],["\"apogeeapp.app.FormDataComponent\"","\"apogeeapp.DataFormCell\"\r"],["\"apogeeapp.app.CustomComponent\"","\"apogeeapp.CustomCell\"\r"],["\"apogeeapp.app.CustomDataComponent\"","\"apogeeapp.CustomDataCell\"\r"],["\"apogeeapp.app.ErrorComponent\"","\"apogeeapp.ErrorCell\"\r"],["\"apogeeapp.app.ChartJSComponent\"","\"apogeeapp.ChartJSCell\""]]}},"namesFixed":{"name":"namesFixed","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let textData = JSON.stringify(combined);\n\nnameChanges.forEach( row => {\n    textData = textData.replace(new RegExp(row[0],\"g\"), row[1]);\n})\n\nreturn JSON.parse(textData);","supplementalCode":""}}}}}},"components":{"Main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Workspace Updater 0.50 to 0.60"}]},{"type":"paragraph","content":[{"type":"text","text":"This version takes a workspace in the format workspace file version 0.50 and converts it to workspace file version 0.60."}]},{"type":"paragraph","content":[{"type":"text","text":"Note that some UI state will be lost in this conversion. The file should be reopened and the UI state set as desired."}]},{"type":"paragraph","content":[{"type":"text","text":"PROBLEMS:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"This fails for folder functions. The internal folder should be named \"body\" and not \"root\"."}]}]},{"type":"heading2","content":[{"type":"text","text":"Input File - Workspace File Version 0.50"}]},{"type":"apogeeComponent","attrs":{"name":"inputFile","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Output File - Workspace File Version 0.60"}]},{"type":"apogeeComponent","attrs":{"name":"outputFile","id":0,"state":""}},{"type":"paragraph"},{"type":"heading2","content":[{"type":"text","text":"Working Elements"}]},{"type":"apogeeComponent","attrs":{"name":"references","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"model","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"components","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"combined","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Below we substitute in the new table and component names in."}]},{"type":"apogeeComponent","attrs":{"name":"namesFixed","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Name Substitution Table"}]},{"type":"apogeeComponent","attrs":{"name":"nameChanges","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"sd"}]}]}},"children":{"inputFile":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"outputFile":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"references":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"height":280,"isViewActive":true},"Formula":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"components":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"combined":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"model":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"nameChanges":{"type":"apogeeapp.JsonCell","dataView":"Grid","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":300},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"namesFixed":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":-1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}