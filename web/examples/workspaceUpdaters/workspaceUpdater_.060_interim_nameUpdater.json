{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":-1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"workspaceUpdated_rename","children":{"Main":{"name":"Main","type":"apogee.Folder","children":{"inputFile":{"name":"inputFile","type":"apogee.JsonMember","updateData":{"data":{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":-1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"Workspace","children":{"Main":{"name":"Main","type":"apogee.Folder","children":{"a":{"name":"a","type":"apogee.JsonTable","updateData":{"data":34}},"b":{"name":"b","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return foo(a);","supplementalCode":""}},"foo":{"name":"foo","type":"apogee.FunctionTable","updateData":{"argList":["x"],"functionBody":"return 2*x;","supplementalCode":""}}}}}},"components":{"Main":{"type":"apogeeapp.app.FolderComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Web App Test"}]},{"type":"apogeeComponent","attrs":{"name":"a","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"b","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"foo","id":0,"state":""}}]}},"children":{"a":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"b":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"foo":{"type":"apogeeapp.app.FunctionComponent","viewState":{"childDisplayState":{"views":{"Code":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":-1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}}},"outputFile":{"name":"outputFile","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return namesFixed;","supplementalCode":""}},"nameChanges":{"name":"nameChanges","type":"apogee.JsonMember","updateData":{"data":[["\"apogee.JsonTable\"","\"apogee.JsonMember\"\r"],["\"apogee.FunctionTable\"","\"apogee.FunctionMember\"\r"],["\"apogee.ErrorTable\"","\"apogee.ErrorMember\"\r"],["\"apogeeapp.app.JsonTableComponent\"","\"apogeeapp.JsonCell\"\r"],["\"apogeeapp.app.FunctionComponent\"","\"apogeeapp.FunctionCell\"\r"],["\"apogeeapp.app.FolderComponent\"","\"apogeeapp.PageComponent\"\r"],["\"apogeeapp.app.FolderFunctionComponent\"","\"apogeeapp.PageFunctionComponent\"\r"],["\"apogeeapp.app.DynamicForm\"","\"apogeeapp.ActionFormCell\"\r"],["\"apogeeapp.app.FormDataComponent\"","\"apogeeapp.DataFormCell\"\r"],["\"apogeeapp.app.CustomComponent\"","\"apogeeapp.CustomCell\"\r"],["\"apogeeapp.app.CustomDataComponent\"","\"apogeeapp.CustomDataCell\"\r"],["\"apogeeapp.app.ErrorComponent\"","\"apogeeapp.ErrorCell\"\r"],["\"apogeeapp.app.ChartJSComponent\"","\"apogeeapp.ChartJSCell\""]]}},"namesFixed":{"name":"namesFixed","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let textData = JSON.stringify(inputFile);\n\nnameChanges.forEach( row => {\n    textData = textData.replace(new RegExp(row[0],\"g\"), row[1]);\n})\n\nreturn JSON.parse(textData);","supplementalCode":""}}}}}},"components":{"Main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Workspace Updater 0.60 name change"}]},{"type":"paragraph","content":[{"type":"text","text":"This version takes a workspace in the format workspace file version 0.50 and converts it to workspace file version 0.60."}]},{"type":"paragraph","content":[{"type":"text","text":"Note that some UI state will be lost in this conversion. The file should be reopened and the UI state set as desired."}]},{"type":"paragraph","content":[{"type":"text","text":"PROBLEMS:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"This fails for folder functions. The internal folder should be named \"body\" and not \"root\"."}]}]},{"type":"heading2","content":[{"type":"text","text":"Input File - Workspace File Version 0.60 WITH OLD NAMES!"}]},{"type":"apogeeComponent","attrs":{"name":"inputFile","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Output File - Workspace File Version 0.60"}]},{"type":"apogeeComponent","attrs":{"name":"outputFile","id":0,"state":""}},{"type":"paragraph"},{"type":"heading2","content":[{"type":"text","text":"Working Elements"}]},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph","content":[{"type":"text","text":"Below we substitute in the new table and component names in."}]},{"type":"apogeeComponent","attrs":{"name":"namesFixed","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Name Substitution Table"}]},{"type":"apogeeComponent","attrs":{"name":"nameChanges","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"sd"}]}]}},"children":{"inputFile":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"outputFile":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"nameChanges":{"type":"apogeeapp.JsonCell","dataView":"Grid","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":300},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"namesFixed":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":-1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}