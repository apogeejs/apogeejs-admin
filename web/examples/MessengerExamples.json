{"fileType":"apogee app js workspace","version":"0.40","references":[{"url":"http://www.apogeejs.com/lib/controls/configurableForm/configurableForm.css","entryType":"css link"}],"workspace":{"fileType":"apogee workspace","version":0.2,"name":"MessengerExamples","data":{"name":"Model","type":"apogee.Folder","children":{"simpleExample":{"name":"simpleExample","type":"apogee.Folder","children":{"test":{"name":"test","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"apogeeMessenger.dataUpdate(\"remoteTable\",valueToCopy);\n\nreturn \"OK\"","supplementalCode":"","description":""}},"remoteTable":{"name":"remoteTable","type":"apogee.JsonTable","updateData":{"data":5,"description":""}},"valueToCopy":{"name":"valueToCopy","type":"apogee.JsonTable","updateData":{"data":5,"description":""}},"NOTES":{"name":"NOTES","type":"apogee.JsonTable","updateData":{"data":"Here we use the messenger to\npush some data to a table.","description":""}}}},"dataEntry":{"name":"dataEntry","type":"apogee.Folder","children":{"result":{"name":"result","type":"apogee.JsonTable","updateData":{"data":{"name":"ET","gender":"other"},"description":""}},"NOTES":{"name":"NOTES","type":"apogee.JsonTable","updateData":{"data":"This example uses a configurable\nform table. The layout is\npassed in as a JSON object.\nThe onSubmit and onCancel\nevent handlers are also passed \nin.\n\nIn this example, we use the \nmessenger to set the output\nfrom the form into the \n\"result\" table.","description":""}},"dataEntryForm":{"name":"dataEntryForm","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var onSubmit = formData => {\r\n    if((!formData.name)||(formData.name.length === 0)) {\r\n        alert(\"Invalid name!\");\r\n        return;\r\n    }\r\n    apogeeMessenger.dataUpdate(\"result\",formData);\r\n}\r\n\r\nvar onCancel = () => {\r\n    alert(\"canceled!\");\r\n}\r\n\r\n//create the form layout\r\nvar layout = [];\r\nvar entry;\r\n\r\n//title\r\nentry = {};\r\nentry.type = \"heading\";\r\nentry.level = 2;\r\nentry.text = \"Data Entry Form\";\r\nlayout.push(entry);\r\n\r\n//text entry\r\nentry = {};\r\nentry.type = \"textField\";\r\nentry.label = \"Name: \";\r\nentry.key = \"name\";\r\nentry.value = result.name;\r\nlayout.push(entry);\r\n\r\n//select group 1\r\nentry = {};\r\nentry.type = \"dropdown\";\r\nentry.label = \"Gender: \";\r\nentry.entries = [\"male\",\"female\",\"other\"];\r\nentry.value = result.gender;\r\nentry.key = \"gender\";\r\nlayout.push(entry);\r\n\r\nentry = {};\r\nentry.type = \"submit\";\r\nentry.onSubmit = onSubmit;\r\nentry.onCancel = onCancel;\r\nlayout.push(entry);\r\n\r\nreturn layout;","supplementalCode":"","description":""}}}},"iterativeCalculation":{"name":"iterativeCalculation","type":"apogee.Folder","children":{"n":{"name":"n","type":"apogee.JsonTable","updateData":{"data":10,"description":""}},"nMinus1Factorial":{"name":"nMinus1Factorial","type":"apogee.JsonTable","updateData":{"data":362880,"description":""}},"nFactorial":{"name":"nFactorial","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var result = nMinus1Factorial * n;\n\nif(n < desiredN) {\n    //iterate\n    var updateData = [];\n    updateData.push([\"n\",n+1]);\n    updateData.push([\"nMinus1Factorial\",result]);\n    apogeeMessenger.compoundDataUpdate(updateData);\n}\nelse if(n > desiredN) {\n    //restart\n    var updateData = [];\n    updateData.push([\"n\",1]);\n    updateData.push([\"nMinus1Factorial\",1]);\n    apogeeMessenger.compoundDataUpdate(updateData);\n}\n\nreturn result;","supplementalCode":"","description":""}},"desiredN":{"name":"desiredN","type":"apogee.JsonTable","updateData":{"data":10,"description":""}},"NOTES":{"name":"NOTES","type":"apogee.JsonTable","updateData":{"data":"Here the messenger is used to do an iterative calculation.\n\nThe table \"nFactorial\" is equal to \"n\" times \"nMinus1Factorial\". However\nthe formual for the table nFactorial also requests that the tables \"n\" and \n\"nMinus1Factorial\" be updated, such that the calculation can go to the next \niteration.\n\nNote that when a request is made for the messenger to update a table, this\nrequest is not carried out until after the current calculation is finished.\n\nWhen the remote tables are updated, it can be seen as starting a completely new \ncalculation.","description":""}}}}}}},"components":{"type":"apogeeapp.app.FolderComponent","tabOpen":true,"treeState":1,"children":{"simpleExample":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":52,"y":68}},"treeState":-1,"children":{"test":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":461,"height":59},"posInfo":{"x":364,"y":115},"state":0,"viewType":"Formula"},"dataView":"Colorized"},"remoteTable":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":42},"posInfo":{"x":366,"y":228},"state":0,"viewType":"Data"},"dataView":"Colorized"},"valueToCopy":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":213,"height":36},"posInfo":{"x":362,"y":29},"state":0,"viewType":"Data"},"dataView":"Colorized"},"NOTES":{"type":"apogeeapp.app.TextComponent","windowState":{"sizeInfo":{"width":270,"height":108},"posInfo":{"x":20,"y":37},"state":0,"viewType":"Text"}}}},"dataEntry":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":54,"y":131}},"treeState":-1,"children":{"result":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":274,"height":98},"posInfo":{"x":356,"y":274},"state":0,"viewType":"Data"},"dataView":"Colorized"},"NOTES":{"type":"apogeeapp.app.TextComponent","windowState":{"sizeInfo":{"width":276,"height":351},"posInfo":{"x":18,"y":14},"state":0,"viewType":"Text"}},"dataEntryForm":{"type":"apogeeapp.app.DynamicForm","windowState":{"sizeInfo":{"width":299,"height":201},"posInfo":{"x":352,"y":11},"state":0,"viewType":"Output"}}}},"iterativeCalculation":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":53,"y":193}},"treeState":-1,"children":{"n":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":174,"height":34},"posInfo":{"x":332,"y":366},"state":0,"viewType":"Data"},"dataView":"Colorized"},"nMinus1Factorial":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":220,"height":35},"posInfo":{"x":55,"y":368},"state":0,"viewType":"Data"},"dataView":"Colorized"},"nFactorial":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":496,"height":271},"posInfo":{"x":560,"y":366},"state":0,"viewType":"Data"},"dataView":"Colorized"},"desiredN":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":191,"height":22},"posInfo":{"x":57,"y":285},"state":0,"viewType":"Data"},"dataView":"Colorized"},"NOTES":{"type":"apogeeapp.app.TextComponent","windowState":{"sizeInfo":{"width":598,"height":206},"posInfo":{"x":30,"y":17},"state":0,"viewType":"Text"}}}}}},"activeTabMember":"Model"}