{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":-1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"Debug Tutorial","children":{"main":{"name":"main","type":"apogee.Folder","children":{"dummyValue":{"name":"dummyValue","type":"apogee.JsonMember","updateData":{"data":6}},"derivedValue":{"name":"derivedValue","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return _myPrivateFunction(dummyValue);","supplementalCode":"function _myPrivateFunction(x) {\n    return foo(x);\n}"}},"foo":{"name":"foo","type":"apogee.FunctionMember","updateData":{"argList":["x"],"functionBody":"return 2*x;","supplementalCode":""}}}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Debugging in Apogee"}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"bold"},{"type":"fontsize","attrs":{"fontsize":"1.5em"}},{"type":"highlight","attrs":{"color":"yellow"}}],"text":"UNFINISHED"}]},{"type":"paragraph","content":[{"type":"text","text":"You can use the browser debugger to help you decode. For the sake of this tutorial we will use the Chrome browser. Other browsers have a similar debugging tool."}]},{"type":"heading2","content":[{"type":"text","text":"Sample Workspace"}]},{"type":"paragraph","content":[{"type":"text","text":"This is a cell with a static value."}]},{"type":"apogeeComponent","attrs":{"name":"dummyValue","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is a cell with a formula."}]},{"type":"apogeeComponent","attrs":{"name":"derivedValue","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"And here is a function we use."}]},{"type":"apogeeComponent","attrs":{"name":"foo","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Using the Debugger"}]},{"type":"paragraph","content":[{"type":"text","text":"1) Open the debugger: From the menu in the top right corner of the browser, select \"more tools\" and under it, \"developer tools\"."}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"When the debugger is open, it might be easiest to use if it is not docked with the web browser window. If it is docked you can undock it by going to the menu in the top left of the debugger and selecting the graphical option to undock the window."}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"2) Go to the "},{"type":"text","marks":[{"type":"italic"}],"text":"sources"},{"type":"text","text":" tab of the debugger"}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"3) Open the file apogeejs.com/ ... /apogee/debugHook.js"}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"4) Add a breakpoint in the empty function __memberFunctionDebugHook(memberName) "}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"5) Now do some meaningless edit in the formula of the cell "},{"type":"text","marks":[{"type":"italic"}],"text":"derivedValue"},{"type":"text","text":", such as inserting and removing a space."}]},{"type":"paragraph","content":[{"type":"text","text":"When "},{"type":"text","marks":[{"type":"italic"}],"text":"save"},{"type":"text","text":" is pressed, the workspace will update and the breakpoint we added should be hit."}]},{"type":"paragraph","content":[{"type":"text","text":"This is in an empty function. We can step out of it to get into the code we wrote for that cell."}]},{"type":"paragraph","content":[{"type":"text","text":"6) Step out of the debug hook function."}]},{"type":"paragraph","content":[{"type":"text","text":"[PICTURE]"}]},{"type":"paragraph","content":[{"type":"text","text":"We can see the structure of our code when it is converted to javascript. You might want to make sure we are in the cell \"derivedMember\"."}]},{"type":"paragraph","content":[{"type":"text","text":"Our code is very simple. We do have one line of code for the formula and then a simple function in the private code. You can see how these are arranged."}]},{"type":"paragraph","content":[{"type":"text","text":"From here you can step through the code as desired."}]},{"type":"paragraph","content":[{"type":"text","text":"In particular, you might want to step into the function "},{"type":"text","marks":[{"type":"italic"}],"text":"foo(x)"},{"type":"text","text":", which is another cell. When you do this you see we pass into another function in our file debugHook.js. The function is wrapped in some additional code so it is defined lazily. This is done so we can have a function call itself recureively without getting a circular dependency."}]},{"type":"paragraph"}]}},"children":{"dummyValue":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"derivedValue":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":true,"height":7000}}}}},"foo":{"type":"apogeeapp.FunctionCell","viewState":{"childDisplayState":{"views":{"Code":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}