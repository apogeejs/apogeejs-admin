{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"FormCells","children":{"main":{"name":"main","type":"apogee.Folder","children":{"actionForm":{"name":"actionForm","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let onSubmit = formValue => {\n    admin.getCommandMessenger().dataCommand(\"actionFormResult\",formValue);\n}\n\nreturn [\n\t{\n\t\t\"type\": \"heading\",\n\t\t\"level\": 2,\n\t\t\"text\": \"Test Form\"\n\t},\n\t{\n\t\t\"type\": \"textField\",\n\t\t\"label\": \"Test text entry: \",\n\t\t\"value\": \"Hello There\",\n\t\t\"key\": \"text1\"\n\t},\n\t{\n\t\t\"type\": \"radioButtonGroup\",\n\t\t\"label\": \"Radio 1: \",\n\t\t\"groupName\": \"rg1\",\n\t\t\"entries\": [\n\t\t\t\"antelope\",\n\t\t\t\"buffalo\",\n\t\t\t\"cat\",\n\t\t\t\"dog\"\n\t\t],\n\t\t\"value\": \"dog\",\n\t\t\"key\": \"radioGroup1\"\n\t},\n\t{\n\t    \"type\": \"submit\",\n\t    \"submitLabel\": \"Submit\",\n\t    \"onSubmit\": onSubmit\n\t}\n];\n","supplementalCode":""}},"dataForm":{"name":"dataForm","type":"apogee.Folder","children":{"layout":{"name":"layout","type":"apogee.FunctionMember","updateData":{"argList":[],"functionBody":"//note that we did not have to include parentheses on our object keys because this is javascript code, not a formal JSON.\nreturn [\n\t{\n\t\ttype: \"heading\",\n\t\tlevel: 2,\n\t\ttext: \"Pet Information\"\n\t},\n\t{\n\t\ttype: \"textField\",\n\t\tlabel: \"Name: \",\n\t\tkey: \"name\"\n\t},\n\t{\n\t\ttype: \"radioButtonGroup\",\n\t\tlabel: \"Pet Type: \",\n\t\tgroupName: \"rg1\",\n\t\tentries: [\n\t\t\t\"cat\",\n\t\t\t\"dog\"\n\t\t],\n\t\tkey: \"animalType\"\n\t},\n\t{\n\t    type: \"radioButtonGroup\",\n\t    label: \"Type of Cat: \",\n\t    groupName: \"rg_catType\",\n\t    entries: [\n\t\t\t\"Persian\",\n\t\t\t\"Siamese\",\n\t\t\t\"Burmese\",\n\t\t\t\"Tabby\"\n\t\t],\n\t\tselector: {\n\t\t    parentKey: \"animalType\",\n\t\t    parentValue: \"cat\",\n\t\t    keepActiveOnHide: false\n\t\t},\n\t    key: \"catType\",\n\t},\n\t{ \n\t    type: \"panel\",\n\t    key: \"dogInfo\",\n\t    formData: [\n        \t{\n        \t    type: \"radioButtonGroup\",\n        \t    label: \"Type of Dog: \",\n        \t    groupName: \"rg_dogType\",\n        \t    entries: [\n        \t\t\t\"Beagle\",\n        \t\t\t\"Golden Retriever\",\n        \t\t\t\"Poodle\",\n        \t\t\t\"Mutt\"\n        \t\t],\n        \t    key: \"dogType\",\n        \t},\n        \t{\n        \t    type: \"textField\",\n        \t    label: \"Favorite chew toy: \",\n        \t    key: \"chewToy\"\n        \t}\n    \t],\n    \tselector: {\n\t\t    parentKey: \"animalType\",\n\t\t    parentValue: \"dog\"\n\t\t}\n\t}\n\t\n];\n","supplementalCode":""}},"data":{"name":"data","type":"apogee.JsonMember","updateData":{"data":{"name":"King","animalType":"dog","dogInfo":{"dogType":"Golden Retriever","chewToy":"asdfasdf"}}}},"isInputValid":{"name":"isInputValid","type":"apogee.FunctionMember","updateData":{"argList":["formValue"],"functionBody":"//If data valid, return true. If data is invalid, return an error message.\nreturn true;","supplementalCode":""}}},"childrenNotWriteable":true},"dataFormResult":{"name":"dataFormResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return dataForm.data;","supplementalCode":""}},"actionFormResult":{"name":"actionFormResult","type":"apogee.JsonMember","updateData":{"data":{"text1":"Hello There","radioGroup1":"cat"}}}}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Form Cells"}]},{"type":"paragraph","content":[{"type":"text","text":"There are two kinds of form cells that come with apogee, the "},{"type":"text","marks":[{"type":"italic"}],"text":"Action Form Cell"},{"type":"text","text":", which is kind of like a dialog box cell, and the Data Form Cell, which is a type of data cell that displays a form for data entry, rather than, for example, a text editor or a grid."}]},{"type":"paragraph","content":[{"type":"text","marks":[{"type":"italic"},{"type":"textcolor","attrs":{"color":"blue"}}],"text":"NOTE: The intention is to have a form builder to allow easy contruction of a form. Currently the forms must be configured in code."}]},{"type":"heading2","content":[{"type":"text","text":"Action Form Cell"}]},{"type":"paragraph","content":[{"type":"text","text":"The action form uses buttons to submit the form. It uses the command messenger to send the data to another cell. This is essentially the same as the apogee messenger, but there is an important internal distinction. That will be discussed more below."}]},{"type":"paragraph","content":[{"type":"text","text":"For the action form, and the data form, a configuration object is returned to describe the layout. This is essentially a JSON but it can hold functions, such as the onSubmit function, as handlers."}]},{"type":"paragraph","content":[{"type":"text","text":"See the code below for a sample. Here when submit is pressed we send the form value to the cell "},{"type":"text","marks":[{"type":"italic"}],"text":"actionFormResult"},{"type":"text","text":"."}]},{"type":"apogeeComponent","attrs":{"name":"actionForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here is the table to receive the output of the above form."}]},{"type":"apogeeComponent","attrs":{"name":"actionFormResult","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"In the code for the form, a layout object is returned. Each entry in the layout array is an element of the form. An important entry is the "},{"type":"text","marks":[{"type":"italic"}],"text":"key"},{"type":"text","text":". This gives the key for the value of the element in the form value, as illustrated in the table formResult when you press the "},{"type":"text","marks":[{"type":"italic"}],"text":"Submit"},{"type":"text","text":" button."}]},{"type":"heading2","content":[{"type":"text","text":"Data Form Cell"}]},{"type":"paragraph","content":[{"type":"text","text":"The data form cell is like the action form cell except it has a two-way link to a internal data cell where you can read and write the value of the form. You also don't need a submit button since data saving is already managed."}]},{"type":"paragraph","content":[{"type":"text","text":"Data saving can be configured to be done two ways."}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"Save Button - The standard save button like you would use in a cell with a text editor can be used to save the value of the form."}]},{"type":"listItem","content":[{"type":"text","text":"Auto Save - Whenever a element of a form is updated (and loses focus) the form automatically saved. "},{"type":"text","marks":[{"type":"bold"},{"type":"highlight","attrs":{"color":"yellow"}}],"text":"NOT IMPLMENTED!"}]}]},{"type":"paragraph","content":[{"type":"text","text":"The form is configured the same way the action form is configured, except the submit element is not needed."}]},{"type":"paragraph","content":[{"type":"text","text":"To read data from the data form, you access the internal data cell, as we demonstrate in the cell "},{"type":"text","marks":[{"type":"italic"}],"text":"dataFormOutput"},{"type":"text","text":" below. Or, you can go to the "},{"type":"text","marks":[{"type":"italic"}],"text":"Form Value"},{"type":"text","text":" view of dataForm. There you can also write to the value of the form."}]},{"type":"paragraph","content":[{"type":"text","text":"In the action form below, we also demonstrate dependent elements. With these, by changing one element, such as a radio button group, you can show or hide other elements."}]},{"type":"apogeeComponent","attrs":{"name":"dataForm","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we access the value of the data form above."}]},{"type":"apogeeComponent","attrs":{"name":"dataFormResult","id":0,"state":""}},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph"},{"type":"paragraph"}]}},"children":{"actionForm":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"height":7000,"isViewActive":false},"Private":{"isViewActive":false}}}}},"dataForm":{"type":"apogeeapp.DataFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Layout Code":{"height":7000,"isViewActive":false},"Layout Private":{"isViewActive":false},"isInputValid(formValue)":{"isViewActive":false},"isInputValid Private":{"isViewActive":false},"Form Value":{"height":280,"isViewActive":false}}}}},"dataFormResult":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"actionFormResult":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}