{"fileType":"apogee app js workspace","version":"0.40","references":[],"workspace":{"fileType":"apogee workspace","version":0.2,"name":"NodeMySQLTest","data":{"name":"Model","type":"apogee.Folder","children":{"query":{"name":"query","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return createQueryPromise(connectionConfig,sql);\n\n","supplementalCode":"","description":""}},"sql":{"name":"sql","type":"apogee.JsonTable","updateData":{"data":"select * from city;","description":""}},"createQueryPromise":{"name":"createQueryPromise","type":"apogee.FunctionTable","updateData":{"argList":["connectionConfig","sql"],"functionBody":"var mysql = require('mysql');\n\nvar connection = mysql.createConnection(connectionConfig);\n\nvar queryPromise = new Promise((resolve,reject) => {\n    connection.connect(function(err) {\n        if(err) {\n            reject(err.message);\n        }\n        else {    \n            connection.query(sql, function(err,result) {\n                if(err) {\n                    reject(err.message);\n                }\n                else {\n                    resolve(result);\n                }\n            });\n        }\n        connection.end();\n    });\n});\n\nreturn queryPromise;","supplementalCode":"","description":""}},"createPlaceholderQueryPromise":{"name":"createPlaceholderQueryPromise","type":"apogee.FunctionTable","updateData":{"argList":["connectionConfig","sql","data"],"functionBody":"var mysql = require('mysql');\n\nvar connection = mysql.createConnection(connectionConfig);\n\nvar queryPromise = new Promise((resolve,reject) => {\n    connection.connect(function(err) {\n        if(err) {\n            reject(err.message);\n        }\n        else {    \n            connection.query(sql, data, function(err,result) {\n                if(err) {\n                    reject(err.message);\n                }\n                else {\n                    resolve(result);\n                }\n            });\n        }\n        //just quit - don't bother handling an error for now\n        connection.end();\n    });\n});\n\nreturn queryPromise;","supplementalCode":"","description":""}},"sql2":{"name":"sql2","type":"apogee.JsonTable","updateData":{"data":"select * from city where CountryCode = ? and Population > ?;","description":""}},"query2":{"name":"query2","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var data = [\"AFG\",1000000];\n\nreturn createPlaceholderQueryPromise(connectionConfig,sql2,data);","supplementalCode":"","description":""}},"connectionConfig":{"name":"connectionConfig","type":"apogee.JsonTable","updateData":{"data":{"host":"localhost","user":"","password":"","database":"world"},"description":""}},"NOTES":{"name":"NOTES","type":"apogee.JsonTable","updateData":{"data":"http://www.mysqltutorial.org/mysql-nodejs/\n\n(This doesn't follow this exactly, I had started with W3 \nschools, but that is not as thorough. I should review this \nfor best practices.)\n\nThis uses a stock DB that is on my current machine.","description":""}}}}},"components":{"type":"apogeeapp.app.FolderComponent","tabOpen":true,"treeState":-1,"children":{"query":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":536,"height":167},"posInfo":{"x":31,"y":309},"state":0,"viewType":"Data"},"dataView":"Colorized"},"sql":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":354,"height":26},"posInfo":{"x":29,"y":234},"state":0,"viewType":"Data"},"dataView":"Text Data"},"createQueryPromise":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":607,"height":450},"posInfo":{"x":847,"y":17},"state":0,"viewType":"Code"}},"createPlaceholderQueryPromise":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":721,"height":535},"posInfo":{"x":764,"y":364},"state":0,"viewType":"Code"}},"sql2":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":486,"height":36},"posInfo":{"x":36,"y":527},"state":0,"viewType":"Data"},"dataView":"Text Data"},"query2":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":530,"height":337},"posInfo":{"x":30,"y":620},"state":0,"viewType":"Data"},"dataView":"Colorized"},"connectionConfig":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":292,"height":96},"posInfo":{"x":533,"y":39},"state":0,"viewType":"Data"},"dataView":"Colorized"},"NOTES":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":481,"height":132},"posInfo":{"x":32,"y":15},"state":0,"viewType":"Data"},"dataView":"Text Data"}}},"activeTabMember":"Model"}