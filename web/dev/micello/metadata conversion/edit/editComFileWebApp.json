{"fileType":"apogee app js workspace","version":"0.40","references":[{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/modules/taskApp/taskAppModule.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.js","entryType":"js link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"},{"url":"http://apogeejs.com/lib/controls/configurableForm/ConfigurableForm.css","entryType":"css link"}],"workspace":{"fileType":"apogee workspace","version":0.2,"name":"editComFileWebApp","data":{"name":"Model","type":"apogee.Folder","children":{"tasks":{"name":"tasks","type":"apogee.Folder","children":{"submit":{"name":"submit","type":"apogee.Folder","children":{"submitControl":{"name":"submitControl","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var data = {};\ndata.instructionList = instructionList;\ndata.previousTask = state.previousTask;\n\nreturn data;","supplementalCode":"","description":""}},"commitResponse":{"name":"commitResponse","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if((!liveInstructionList)||(liveInstructionList.length == 0)) {\n    return null; \n}\n\nreturn micemetarDataAccess.getCommitPromise(liveInstructionList,commitMessage,sessionKey);","supplementalCode":"","description":""}},"commitMessage":{"name":"commitMessage","type":"apogee.JsonTable","updateData":{"data":null,"description":""}},"liveInstructionList":{"name":"liveInstructionList","type":"apogee.JsonTable","updateData":{"data":null,"description":""}},"taskResult":{"name":"taskResult","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var resultValue;\n\nvar taskResult = {};\nif((!liveInstructionList)||(!commitResponse)) {\n    return \"WAITING\";\n}\nelse if(commitResponse.success === true) {\n    data = {};\n    data.commitResponse = commitResponse;\n    taskAppModule.taskCompleted(apogeeMessenger,[\"submit\",\"submitControl\"],[\"completed\",\"resetControl\"],data);\n    resultValue = \"SUCCESS\";\n}\nelse {\n    alert(\"Error making commit: \" + commitResponse.msg);\n    resultValue = \"ERROR\";\n}\n\n//for error or success - clear the commit request\nvar updateInfo = [];\nupdateInfo.push([\"liveInstructionList\",null]);\nupdateInfo.push([\"commitMessage\",null]);\napogeeMessenger.compoundDataUpdate(updateInfo);\n    \nreturn resultValue;","supplementalCode":"","description":""}},"sessionKey":{"name":"sessionKey","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return getSessionKey();","supplementalCode":"","description":""}},"result":{"name":"result","type":"apogee.JsonTable","updateData":{"data":{"valid":false,"data":null},"description":""}},"state":{"name":"state","type":"apogee.JsonTable","updateData":{"data":{"active":false,"previousTask":null},"description":""}},"instructionList":{"name":"instructionList","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!state.active) return null;\n\nvar previousTask;\nswitch(state.previousTask[0]) {\n    case \"editMeta\":\n        if(editMeta.editMetaFile.result.valid) {\n            return editMeta.editPostProcess.instructionList;   \n        }\n        else {\n            return null;\n        }\n        break;\n        \n    case \"editCom\":\n        if(editCom.editComFile.result.valid) {\n            return editCom.editPostProcess.instructionList;   \n        }\n        else {\n            return null;\n        }\n        break;\n        \n    case \"editEntry\":\n        previousTask = editEntry.createInstructionList;\n        break;\n        \n    default:\n        console.log(\"Unknown task: \" + JSON.stringify(state.previousTask));\n        return;\n}\n","supplementalCode":"","description":""}}}},"getSessionKey":{"name":"getSessionKey","type":"apogee.FunctionTable","updateData":{"argList":[],"functionBody":"if(login.result.valid) {\n    return login.result.data.sessionKey;\n}\nelse {\n    return null;\n}\n","supplementalCode":"","description":""}},"currentTask":{"name":"currentTask","type":"apogee.JsonTable","updateData":{"data":["switcher","selectSequence"],"description":""}},"getFileTypeName":{"name":"getFileTypeName","type":"apogee.FunctionTable","updateData":{"argList":["fileTypeId"],"functionBody":"return commonData.fileTypeIdToName[fileTypeId];","supplementalCode":"","description":""}},"commonData":{"name":"commonData","type":"apogee.Folder","children":{"fileTypeList":{"name":"fileTypeList","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var sessionKey = login.getSessionKey();\nif(!sessionKey) return null;\n\nvar fileTypeSearch = {};\nfileTypeSearch.search = \"file_type_list\";\n\nreturn micemetarDataAccess.getRequestPromise(fileTypeSearch,sessionKey);\n\n","supplementalCode":"","description":""}},"fileTypeIdToName":{"name":"fileTypeIdToName","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!fileTypeList) return null;\nif(!fileTypeList.success) throw new Error(\"Error loading file type list: \" + fileTypeList.msg);\n\nvar output = {};\n\nvar addToMap = (record) => {output[record.Id] = record.Fields.file_type_name;}\n\nfileTypeList.data.Response.forEach(addToMap);\n\nreturn output;","supplementalCode":"","description":""}},"fileTypeNameToId":{"name":"fileTypeNameToId","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!fileTypeList) return null;\n\nvar output = {};\n\nvar addToMap = (record) => {output[record.Fields.file_type_name] = record.Id;}\n\nfileTypeList.data.Response.forEach(addToMap);\n\nreturn output;","supplementalCode":"","description":""}},"customerInfo":{"name":"customerInfo","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"const url = \"http://eng.micello.com/apogee/data/customerJson.json\"\nreturn apogee.net.jsonRequest(url);","supplementalCode":"","description":""}},"INACTIVE_LAYOUT":{"name":"INACTIVE_LAYOUT","type":"apogee.JsonTable","updateData":{"data":{"lines":[{"type":"title","title":"inactive"}]},"description":""}},"DUMMY_DROPDOWN_ENTRY":{"name":"DUMMY_DROPDOWN_ENTRY","type":"apogee.JsonTable","updateData":{"data":"---","description":""}},"GLOBAL_CONTEXT":{"name":"GLOBAL_CONTEXT","type":"apogee.JsonTable","updateData":{"data":"public","description":""}},"CID_CONTEXT_PREFIX":{"name":"CID_CONTEXT_PREFIX","type":"apogee.JsonTable","updateData":{"data":"com_","description":""}},"DEFAULT_COM_FILE_NAME":{"name":"DEFAULT_COM_FILE_NAME","type":"apogee.JsonTable","updateData":{"data":"Standard","description":""}},"DEFAULT_META_FILE_NAME":{"name":"DEFAULT_META_FILE_NAME","type":"apogee.JsonTable","updateData":{"data":"Standard","description":""}},"getFileTypeName":{"name":"getFileTypeName","type":"apogee.FunctionTable","updateData":{"argList":["fileTypeId"],"functionBody":"return fileTypeIdToName[fileTypeId];","supplementalCode":"","description":""}}}},"getFileTypeId":{"name":"getFileTypeId","type":"apogee.FunctionTable","updateData":{"argList":["fileTypeName"],"functionBody":"return commonData.fileTypeNameToId[fileTypeName];","supplementalCode":"","description":""}},"editComFile":{"name":"editComFile","type":"apogee.Folder","children":{"comFileResponse":{"name":"comFileResponse","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"sessionKey = login.getSessionKey();\nif(!sessionKey) return null;\n\nvar cidContext = selectCid.getCidContext();\nif(!cidContext) return null;\n\nvar searchDef = {};\nsearchDef.search = \"community_files\";\nsearchDef.file_context = cidContext;\nreturn micemetarDataAccess.getRequestPromise(searchDef,sessionKey);\n\n\n\n\n\n\n\n","supplementalCode":"","description":""}},"metaFileList":{"name":"metaFileList","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var sessionKey = login.getSessionKey();\nif(!sessionKey) return null;\n\nvar contextList = selectCid.getAllContexts();\nif(!contextList)  return null;\n\n//request promise from context\nvar getRequestPromiseFromContext = (context) => {\n    var searchDef = {};\n    searchDef.search = \"meta_file_list\";\n    searchDef.file_context = context;\n    return micemetarDataAccess.getRequestPromise(searchDef,sessionKey);\n}\n\n//create promise list\npromiseList = contextList.map(getRequestPromiseFromContext);\n\n//evaluate promise list\nreturn Promise.all(promiseList);\n","supplementalCode":"","description":""}},"existingComFileEntries":{"name":"existingComFileEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!comFileResponse) {\n    //empty list\n    return [];\n}\n\nif(!comFileResponse.success) {\n    throw new Error(\"Error loading meta file records: \" + comFileResponse.msg);\n}\n\nvar isComFileEntry = (record) => (record.Type == \"com_file_entry\");\n\nreturn comFileResponse.data.Records.filter(isComFileEntry);\n","supplementalCode":"","description":""}},"availableMetaFiles":{"name":"availableMetaFiles","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!metaFileList) return null;\n\nvar output = [];\n\nvar addToOutput = (response) => {\n    if(!response.success) throw new Error(\"Error loading meta files: \" + response.msg);\n    output = output.concat(response.data.Response)};\n\nmetaFileList.forEach(addToOutput);\n\nreturn output;","supplementalCode":"","description":""}},"comFile":{"name":"comFile","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!comFileResponse) {\n    return null;\n}\n\nif(!comFileResponse.success) {\n    throw new Error(\"Com File request error: \" + comFileResponse.msg);\n}\n\nif(comFileResponse.data.Response.length > 0) {\n    return comFileResponse.data.Response[0];   \n}\nelse {\n    \n    //meta file code;\n    var fields = {};\n    fields.file_context = commonData.CID_CONTEXT_PREFIX + selection.cid;\n    fields.name = commonData.DEFAULT_COM_FILE_NAME;\n    fields.ref = NEW_COM_FILE_REF;\n\n    return micemetarDataAccess.createRecord(\"com_file\",fields);\n}\n\n","supplementalCode":"","description":""}},"NEW_COM_FILE_REF":{"name":"NEW_COM_FILE_REF","type":"apogee.JsonTable","updateData":{"data":"legacy","description":""}},"sections":{"name":"sections","type":"apogee.JsonTable","updateData":{"data":{"propertyRules":{"label":"Property Rules","baseIsUnique":true},"themeRules":{"label":"Theme Rules","baseIsUnique":false},"theme":{"label":"Theme","baseIsUnique":false},"strings":{"label":"Strings","baseIsUnique":false},"inputColors":{"label":"Input Colors","baseIsUnique":false}},"description":""}},"refForUseType":{"name":"refForUseType","type":"apogee.JsonTable","updateData":{"data":{"base":"base","override":"overrides"},"description":""}},"mergedSelections":{"name":"mergedSelections","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if((!result)||(!result.valid)) return null;\n\nvar output = {};\n\nvar addExistingRecord = record => {\n    var metaFileId = record.Fields.meta_file_id;\n    var entry = output[metaFileId];\n    if(!entry) {\n        entry = {};\n        output[metaFileId] = entry;\n    }\n    entry.record = record;\n}\n\nexistingComFileEntries.forEach(addExistingRecord);\n\nvar addSelectedMetaFileId = metaFileId => {\n    var entry = output[metaFileId];\n    if(!entry) {\n        entry = {};\n        output[metaFileId] = entry;\n    }\n    \n    //lokup the type\n    entry.selectedForGroup = getFileGroup(metaFileId);\n}\n\nfor(var entryKey in result.data) {\n    var entryResult = result.data[entryKey];\n    if(apogee.util.getObjectType(entryResult) == \"Array\") {\n        entryResult.forEach(addSelectedMetaFileId);\n    }\n    else if(entryResult) {\n        addSelectedMetaFileId(entryResult);\n    }\n}\n\nreturn output;\n","supplementalCode":"function getFileGroup(metaFileId) {\n    var record = availableMetaFiles.find( record => (metaFileId == record.Id) );\n    if(record) {\n        var useType = record.Fields.use_type;\n        var ref = refForUseType[useType];\n        if(!ref) {\n            throw new Error(\"Reference not found for use type: \" + useType);\n        }\n        else {\n            return ref;\n        }\n    }\n    else {\n        throw new Error(\"Meta file not found: id = \" + metaFileId);\n    }\n}","description":""}},"editComFile":{"name":"editComFile","type":"apogee.Folder","children":{"layout":{"name":"layout","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var layout = [];\n\nlayout.push(getTitleLine(\"Select Community Meta Files\"));\n\nif(availableMetaFiles) {\n    addBodyLines(layout);\n}\n\nvar cid = selectCid.getCid();\nif(cid) {\n    var cidEntry = {};\n    cidEntry.type = \"invisible\";\n    cidEntry.key = \"cid\";\n    cidEntry.value = cid;\n    layout.push(cidEntry);\n}\n\n//reload data if the cached data does not match the cid\nif((data.cid)&&(data.cid != initialEntries.cid)) {\n    //reload the data\n    _resetEntries();\n}\n\n//horizontal rule\nentry = {};\nentry.type = \"htmlDisplay\";\nentry.html = \"<hr>\";\nlayout.push(entry);\n\n//add a reset button\nvar resetEntry = {}\nresetEntry.type = \"submit\";\nresetEntry.onSubmit = _resetEntries;\nresetEntry.submitLabel = \"Reset Entries\";\nlayout.push(resetEntry);\n\nreturn layout;","supplementalCode":"//this function reinsteates the original data\nfunction _resetEntries() {\n    apogeeMessenger.dataUpdate(\"data\",initialEntries);\n}\n\nfunction getTitleLine(label) {\n    return {\n\t\t\"type\": \"heading\",\n\t\t\"level\": 2,\n\t\t\"text\": label\n\t};\n}\n\nfunction addBodyLines(lines) {\n    for(var fileType in sections) {\n        var sectionInfo = sections[fileType];\n        var fileTypeId = getFileTypeId(fileType);\n        \n        var isUniqueBase = sectionInfo.baseIsUnique;\n        var isUniqueOverides = false;\n        \n        lines.push(getTitleLine(sectionInfo.label));\n        lines.push(getSelectionGroupLine(fileType,fileTypeId,true,isUniqueBase));\n        lines.push(getSelectionGroupLine(fileType,fileTypeId,false,isUniqueOverrides));\n    }\n}\n\n\nfunction getSelectionGroupLine(fileType,fileTypeId,isBaseFile,isUnique) {\n    var isProperType = record => {\n        return ( (record.Fields.file_type_id == fileTypeId) &&\n            (record.Fields.use_type == (isBaseFile ? \"base\" : \"override\")) );\n    }\n    \n    var entries = [];\n    var addEntry = record => {\n        entries.push([getRecordName(record),record.Id]);\n    };\n    \n    availableMetaFiles.filter(isProperType).forEach(addEntry);\n    \n    var resultKey = getSelectionKey(fileType,(isBaseFile ? \"base\" : \"override\"));\n    \n    var line = {};\n    line.label = (isBaseFile ? \"Base Files\" : \"Override Files\");\n    if(isUnique) {\n        line.type = \"radioButtonGroup\";\n        line.groupName = \"selectCom_\" + resultKey\n    }\n    else {\n        line.type = \"checkboxGroup\";\n    }\n    line.key = resultKey;\n    line.entries = entries;\n    \n    return line;\n}\n\nfunction getRecordName(record) {\n    return record.Fields.name + \n        \" : \" + record.Fields.file_context;\n}\n","description":""}},"data":{"name":"data","type":"apogee.JsonTable","updateData":{"data":{"propertyRules_base":"1","theme_base":["2","3","4"],"strings_base":["5"],"themeRules_base":["6"],"inputColors_base":["7"],"cid":"34"},"description":""}},"isInputValid":{"name":"isInputValid","type":"apogee.FunctionTable","updateData":{"argList":["formValue"],"functionBody":"//If data valid, return true. If data is invalid, return an error message.\nreturn true;","supplementalCode":"","description":""}}}},"initialEntries":{"name":"initialEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var map = {};\n\nvar addToMap = metaFileRecord => {\n    if(_isInExistingComFileEntries(metaFileRecord)) {\n        var fileType = commonData.getFileTypeName(metaFileRecord.Fields.file_type_id);\n        var baseOrOverride = metaFileRecord.Fields.use_type;\n        var mapKey = getSelectionKey(fileType,baseOrOverride);\n        \n        var list = map[mapKey];\n        if(!list) {\n            list = []\n            map[mapKey] = list;\n        }\n        \n        //add ID as a string, because that is what the edit form will do\n        list.push(String(metaFileRecord.Id));\n    }\n}\n\navailableMetaFiles.forEach(addToMap);\n\n//fix any base that is unique - see the sections file\nfor(var fileTypeKey in sections) {\n    var sectionInfo = sections[fileTypeKey];\n    if(sectionInfo.baseIsUnique) {\n        var baseKey = getSelectionKey(fileTypeKey,\"base\");\n        if((map[baseKey])&&(map[baseKey].length > 0)) {\n            map[baseKey] = map[baseKey][0];\n        }\n    }\n}\n\n\n//set the cid\nmap.cid = selectCid.getCid();\n\nreturn map;","supplementalCode":"//This method returns true if the meta file record is in the existing com file entries.\nfunction _isInExistingComFileEntries(metaFileRecord) {\n    return existingComFileEntries.find( comEntry => comEntry.Fields.meta_file_id == metaFileRecord.Id);\n}","description":""}},"updatedComFileEntries":{"name":"updatedComFileEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"\n\nif(editComFile.data.cid == selectCid.getCid()) {\n    var newComFileEntries = [];\n    \n    for(var fileType in sections) {\n        var sectionInfo = sections[fileType];\n        \n        //process base entries\n        var sectionBaseName = getSelectionKey(fileType,\"base\");\n        var sectionBaseValue = editComFile.data[sectionBaseName];\n        //for unique base, place into an array\n        if((sectionInfo.baseIsUnique)&&(sectionBaseValue)) {\n            sectionBaseValue = [sectionBaseValue];\n        }\n        //add to list\n        _addToNewComFileEntries(newComFileEntries,sectionBaseValue,fileType,true);\n        \n        //process override entries\n        var sectionOverridesName = getSelectionKey(fileType,\"override\");\n        var sectionOverridesValue = editComFile.data[sectionOverridesName];\n        //add to list\n        _addToNewComFileEntries(newComFileEntries,sectionOverridesValue,fileType,false);\n    }\n    \n    return newComFileEntries;\n}\nelse {\n    return null;\n}","supplementalCode":"function _addToNewComFileEntries(newComFileEntries,selectedIdList,fileType,isBase) {\n    if(selectedIdList) {\n        selectedIdList.forEach(metaFileId => _addRecordToComFileList(newComFileEntries,metaFileId,fileType,isBase));\n    }\n}\n\nfunction _addRecordToComFileList(newComFileEntries,metaFileId,fileType,isBase) {\n    //is this an existing entry\n    var comFileEntry = existingComFileEntries.find(comFileEntries => comFileEntries.Fields.meta_file_id == metaFileId);\n    \n    if(comFileEntry) {\n        //process existing\n        \n        //change the order???\n    }\n    else {\n        //process new entry\n        var fields = {};\n        //fields.ordr = WHAT SHOULD THIS BE!\n        fields.file_group = isBase ? \"base\" : \"override\";\n        fields.com_file_id = comFile.Id;\n        fields.meta_file_id = metaFileId;\n        \n        comFileEntry = micemetarDataAccess.createRecord(\"com_file_entry\",fields);\n    }\n    \n    newComFileEntries.push(comFileEntry);\n}","description":""}},"getSelectionKey":{"name":"getSelectionKey","type":"apogee.FunctionTable","updateData":{"argList":["fileType","fileGroup"],"functionBody":"return fileType + \"_\" + fileGroup;","supplementalCode":"","description":""}},"removedComFileEntries":{"name":"removedComFileEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!availableMetaFiles) return null;\nif(!editComFile.data) return null;\n\nvar isNotSelected = comFileEntry => {\n    var metaFileId = comFileEntry.Fields.meta_file_id;\n    var isInSelection = _findInResult(metaFileId,editComFile.data);\n    return !isInSelection;\n}\n\nvar deletedEntryList = existingComFileEntries.filter(isNotSelected);\n\nreturn deletedEntryList;","supplementalCode":"function _findInResult(metaFileId) {\n    var metaFileIdString = String(metaFileId);\n    for(var key in editComFile.data) {\n        //ignore the cid field\n        if(key == \"cid\") continue;\n        \n        var result = editComFile.data[key];\n        if(result.constructor == Array) {\n            if(result.indexOf(metaFileIdString) >= 0) return true;\n        }\n        else {\n            if(result == metaFileIdString) return true;\n        }\n    }\n    \n    //if we are still here, it wasn't found\n    return false;\n}","description":""}}}},"editPostProcess":{"name":"editPostProcess","type":"apogee.Folder","children":{"instructionList":{"name":"instructionList","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!mergedSelections) return null;\n\nvar output = [];\n\noutput = output.concat(createComFile.map(micemetarDataAccess.createCreateInstruction));\noutput = output.concat(createComFileEntries.map(micemetarDataAccess.createCreateInstruction));\n\nvar getEditInstruction = (editPair) => (micemetarDataAccess.createUpdateInstruction(editPair[0],editPair[1]));\n\noutput = output.concat(editComFileEntryPairs.map(getEditInstruction));\n\noutput = output.concat(deleteComFileEntries.map(micemetarDataAccess.createDeleteInstruction));\n\nreturn output;","supplementalCode":"","description":""}},"createComFileEntries":{"name":"createComFileEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!mergedSelections) return null;\n\nvar output = [];\nfor(var idString in mergedSelections) {\n    var entry = mergedSelections[idString];\n    if((entry.record === undefined)&&(entry.selectedForGroup !== undefined)) {\n        var metaFileId = parseInt(idString);\n        var comFileEntry = createComFileEntry(comFile.Id,metaFileId,entry.selectedForGroup);\n        output.push(comFileEntry);\n    }\n}\n\nreturn output;","supplementalCode":"function createComFileEntry(comFileId,metaFileId,fileGroup) {\n    var order = 0;\n    \n    var fields = {};\n    fields.ordr = order;\n    fields.com_file_id = comFileId;\n    fields.meta_file_id = metaFileId;\n    fields.file_group = fileGroup;\n    \n    return micemetarDataAccess.createRecord(\"com_file_entry\",fields);\n}\n","description":""}},"editComFileEntryPairs":{"name":"editComFileEntryPairs","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!mergedSelections) return null;\n\nvar output = [];\nfor(var idString in mergedSelections) {\n    var entry = mergedSelections[idString];\n    if((entry.record !== undefined)&&(entry.selectedForGroup !== undefined)) {\n        //this should never be needed, but weill ad it any way\n        \n        if(entry.record.Fields.file_group != entry.selectedForGroup) {\n            var newRecord = apogee.util.jsonCopy(entry.record);\n            newRecord.Fields.file_group = entry.selectedForGroup;\n            output.push([entry.record,newRecord]);   \n        }\n    }\n}\n\nreturn output;","supplementalCode":"","description":""}},"deleteComFileEntries":{"name":"deleteComFileEntries","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(!mergedSelections) return null;\n\nvar output = [];\nfor(var idString in mergedSelections) {\n    var entry = mergedSelections[idString];\n    if((entry.record !== undefined)&&(entry.selectedForGroup === undefined)) {\n        output.push(entry.record);\n    }\n}\n\nreturn output;\n","supplementalCode":"","description":""}},"createComFile":{"name":"createComFile","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var output= [];\n\nif((comFile)&&(comFile.Id < 0)) {\n    output.push(editResults.comFile);\n}\n\nreturn output;","supplementalCode":"","description":""}},"comFile":{"name":"comFile","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return editComFile.comFile;","supplementalCode":"","description":""}},"mergedSelections":{"name":"mergedSelections","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(editCom.editComFile.result.valid) {\n    return editCom.editComFile.mergedSelections;\n}\nelse {\n    return null;\n}\n","supplementalCode":"","description":""}}}},"selectCid":{"name":"selectCid","type":"apogee.Folder","children":{"selectContext":{"name":"selectContext","type":"apogee.Folder","children":{"layout":{"name":"layout","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"\n//------------\n//create layout\n//------------\nvar layout = [];\n\n//title\nentry = {};\nentry.type = \"heading\";\nentry.level = 2;\nentry.text = \"Select CID\";\nlayout.push(entry);\n\n//cid\nentry = {};\nentry.type = \"textField\";\nentry.label = \"CID: \";\nentry.key = \"cid\";\nlayout.push(entry);\n\n//customer name\nentry = {};\nentry.type = \"dropdown\";\nentry.label = \"Customer Name: \";\nentry.entries = _getCustomerListWithNullOption();\nentry.key = \"customerAuth\";\nlayout.push(entry);\n\n//additional\nentry = {};\nentry.type = \"textarea\";\nentry.label = \"Additional Contexts: \";\nentry.rows = 4;\nentry.cols = 30;\nentry.key = \"additionalContexts\";\nlayout.push(entry);\n\n\nreturn layout;\n","supplementalCode":"function _getCustomerList() {\n    return commonData.customerInfo.map(entry => [entry.customerName,entry.authString]);\n}\n\nfunction _getCustomerListWithNullOption() {\n    var list = [];\n    list.push([commonData.DUMMY_DROPDOWN_ENTRY,null]);\n    return list.concat(_getCustomerList());\n}","description":""}},"data":{"name":"data","type":"apogee.JsonTable","updateData":{"data":{"cid":"34","customerAuth":"~buildingdna","additionalContexts":"asdf"},"description":""}},"isInputValid":{"name":"isInputValid","type":"apogee.FunctionTable","updateData":{"argList":["formValue"],"functionBody":"//If data valid, return true. If data is invalid, return an error message.\nreturn true;","supplementalCode":"","description":""}}}},"getOtherContexts":{"name":"getOtherContexts","type":"apogee.FunctionTable","updateData":{"argList":[],"functionBody":"var customerName = selectContext.data.customerAuth;\nvar additionalContextList = selectContext.data.additionalContexts;\nvar publicContextList = [commonData.GLOBAL_CONTEXT];\n\nvar otherContexts = publicContextList;\nif(customerName) otherContexts = otherContexts.concat([customerName]);\nif(additonalContextList) otherContexts = otherContexts.concat(additonalContextList);\n\nreturn otherContexts;","supplementalCode":"","description":""}},"getAllContexts":{"name":"getAllContexts","type":"apogee.FunctionTable","updateData":{"argList":[],"functionBody":"var cidContext = getCidContext(cid);\nvar otherContexts = getOtherContexts();\nif((cidContext)&&(otherContexts)) {\n    return [cidContext].concat(otherContexts);\n}\nelse {\n    return null;\n}","supplementalCode":"","description":""}},"getCid":{"name":"getCid","type":"apogee.FunctionTable","updateData":{"argList":[],"functionBody":"if(selectContext.data.cid) {\n    return selectContext.data.cid;\n}\nelse {\n    return null;\n}","supplementalCode":"","description":""}},"getCidContext":{"name":"getCidContext","type":"apogee.FunctionTable","updateData":{"argList":["cid"],"functionBody":"return commonData.CID_CONTEXT_PREFIX + getCid();","supplementalCode":"","description":""}}}}}},"micemetarDataAccess":{"name":"micemetarDataAccess","type":"apogee.Folder","children":{"createRecord":{"name":"createRecord","type":"apogee.FunctionTable","updateData":{"argList":["recordType","fieldMap"],"functionBody":"var record = {};\n\nrecord.Id = getId();\nrecord.Type = recordType;\nrecord.Fields = fieldMap;\nrecord.read_perm = READ_PERM;\nrecord.edit_perm = EDIT_PERM;\n\nreturn record;","supplementalCode":"var READ_PERM = 2;\nvar EDIT_PERM = 15;\n\n//this will be illegal at some point\nvar nextId = -1;\n\nfunction getId() {\n    return nextId--;\n}","description":"This method creates a record given the field values and record info \nfrom the data set info. It creates and ID and uses standard permissions."}},"recordsToCreateInstructions":{"name":"recordsToCreateInstructions","type":"apogee.FunctionTable","updateData":{"argList":["recordList"],"functionBody":"var instructions = [];\n\nfor(var i = 0; i < recordList.length; i++) {\n    var createRecord = recordList[i];\n    var instruction = createCreateInstruction(createRecord);\n    instructions.push(instruction);\n}\n\nreturn instructions;","supplementalCode":"","description":"This creates a list of create instructions to go along with a list of records to be created.\n\nThere is the option to assign the ID or to leave it as undefined, in which case\nan automatically incremented ID will be assigned. (For consistency in the data\nset, either all records should be preassigned or all records should be \nautomatically assigned."}},"createCommitBody":{"name":"createCommitBody","type":"apogee.FunctionTable","updateData":{"argList":["instructionList","commitMessage"],"functionBody":"var commit = {};\nvar actions = [];\n\nif(commitMessage.length === 0) throw new Error(\"Commit message missing!\");\n\ncommit.Name = dataSetInfo.name;\ncommit.Message = commitMessage;\ncommit.Actions = actions;\n\n//single action with commits\nvar action = {};\naction.Title = \"bulk create commit\";\naction.Instr = instructionList;\nactions.push(action);\n\nreturn commit","supplementalCode":"","description":"This creates a body for a commit request, given a list of instructions and a commit message."}},"createRequestOptions":{"name":"createRequestOptions","type":"apogee.FunctionTable","updateData":{"argList":["bodyJson","sessionKey"],"functionBody":"var header = {};\nheader[\"Content-Type\"] = \"text/plain;charset=UTF-8\";\nheader.sessionKey = sessionKey;\nheader[\"proto-version\"] = \"4.0\";\nheader[\"db-version\"] = dataSetInfo.version;\n\nrequestInfo = {};\nrequestInfo.header = header;\nif(bodyJson) {\n    requestInfo.method = \"POST\";\n    requestInfo.body = JSON.stringify(bodyJson);\n}\n\nreturn requestInfo;\n","supplementalCode":"","description":"This creates the requestOptions, suitable for apogee.net.jsonRequest, to go with an type of request to the workingset (micemetarequest) server."}},"host":{"name":"host","type":"apogee.JsonTable","updateData":{"data":"http://eng.micello.com/micemetarws","description":""}},"commitUrl":{"name":"commitUrl","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var value;\nvalue = host + \"/commit\";\nreturn value;\n\n","supplementalCode":"","description":""}},"requestUrl":{"name":"requestUrl","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return host + \"/cannedsearch\";\n\n","supplementalCode":"","description":""}},"dataSetInfo":{"name":"dataSetInfo","type":"apogee.JsonTable","updateData":{"data":{"name":"Micemetar","records":{"com_file_entry":{"foreignList":[],"idField":"com_file_entry_id","name":"com_file_entry","recordClass":"com.micello.micemetar.data.ComFileEntry","fields":[{"fieldClass":"java.lang.Integer","name":"ordr","nullOk":false,"defaultValue":0},{"fieldClass":"com.micello.micemetar.data.ComFile","name":"com_file_id","nullOk":false,"defaultValue":null},{"fieldClass":"com.micello.micemetar.data.MetaFile","name":"meta_file_id","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"file_group","nullOk":false,"defaultValue":null}]},"com_file":{"foreignList":[{"restrictDelete":true,"isUnique":false,"remoteField":"com_file_id","remoteRecord":"com_file_entry","orderField":"ordr","name":"com_file_entry_list"}],"idField":"com_file_id","name":"com_file","recordClass":"com.micello.micemetar.data.ComFile","fields":[{"fieldClass":"java.lang.String","name":"file_context","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"name","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"ref","nullOk":true,"defaultValue":null}]},"meta_parent_entry":{"foreignList":[],"idField":"meta_parent_id","name":"meta_parent_entry","recordClass":"com.micello.micemetar.data.MetaParentEntry","fields":[{"fieldClass":"com.micello.micemetar.data.MetaFile","name":"meta_file_id","nullOk":false,"defaultValue":null},{"fieldClass":"com.micello.micemetar.data.MetaFile","name":"parent_file_id","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"relation","nullOk":true,"defaultValue":null}]},"file_entry":{"foreignList":[],"idField":"file_entry_id","name":"file_entry","recordClass":"com.micello.micemetar.data.FileEntry","fields":[{"fieldClass":"java.lang.String","name":"entry_context","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"entry_name","nullOk":false,"defaultValue":null},{"fieldClass":"com.micello.micemetar.data.FileType","name":"file_type_id","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"entry_section","nullOk":true,"defaultValue":null},{"fieldClass":"java.lang.String","name":"entry_key","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"option_name","nullOk":false,"defaultValue":null},{"fieldClass":"org.json.JSONObject","name":"entry_data","nullOk":false,"defaultValue":null}]},"file_type":{"foreignList":[{"restrictDelete":true,"isUnique":false,"remoteField":"file_type_id","remoteRecord":"file_entry","name":"file_entry_list"}],"idField":"file_type_id","name":"file_type","recordClass":"com.micello.micemetar.data.FileType","fields":[{"fieldClass":"java.lang.String","name":"file_type_name","nullOk":true,"defaultValue":null}]},"meta_file":{"foreignList":[{"restrictDelete":true,"isUnique":false,"remoteField":"meta_file_id","remoteRecord":"recipe_entry","orderField":"ordr","name":"recipe_entry_list"},{"restrictDelete":true,"isUnique":false,"remoteField":"meta_file_id","remoteRecord":"meta_parent_entry","name":"parent_entry_list"}],"idField":"meta_file_id","name":"meta_file","recordClass":"com.micello.micemetar.data.MetaFile","fields":[{"fieldClass":"com.micello.micemetar.data.FileType","name":"file_type_id","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"file_context","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"name","nullOk":false,"defaultValue":null},{"fieldClass":"java.lang.String","name":"use_type","nullOk":false,"defaultValue":null}]},"recipe_entry":{"foreignList":[],"idField":"recipe_entry_id","name":"recipe_entry","recordClass":"com.micello.micemetar.data.RecipeEntry","fields":[{"fieldClass":"java.lang.Integer","name":"ordr","nullOk":false,"defaultValue":0},{"fieldClass":"com.micello.micemetar.data.MetaFile","name":"meta_file_id","nullOk":false,"defaultValue":null},{"fieldClass":"com.micello.micemetar.data.FileEntry","name":"file_entry_id","nullOk":false,"defaultValue":null},{"fieldClass":"org.json.JSONObject","name":"insertion_info","nullOk":true,"defaultValue":null}]}},"version":"5.0"},"description":""}},"createUpdateInstruction":{"name":"createUpdateInstruction","type":"apogee.FunctionTable","updateData":{"argList":["initialRecord","targetRecord"],"functionBody":"if(initialRecord.Id != targetRecord.Id) {\n    throw new Error(\"Record ID mismatch in create update instruction for target record: \" + getRecordErrString(targetRecord));\n}\n\nif(initialRecord.Type != targetRecord.Type) {\n    throw new Error(\"Inital and target record types do not match. Target record: \" + getRecordErrString(targetRecord));\n}\n\nvar recordsDifferent = false;\n\nvar recordInfo = getRecordInfo(initialRecord.Type);\n\nvar instruction = {};\ninstruction.Type = \"Update\";\ninstruction.Record = recordInfo.name;\ninstruction.Id = initialRecord.Id;\n\ninstruction.initialReadPerm = initialRecord.read_perm;\ninstruction.initialEditPerm = initialRecord.edit_perm;\n\nif(initialRecord.readPerm != targetRecord.readPerm) {\n    instruction.targetReadPerm = targetRecord.read_perm;\n    recordsDifferent = true;\n}\n\nif(initialRecord.editPerm != targetRecord.editPerm) {\n    instruction.targetEditPerm = targetRecord.edit_perm;\n    recordsDifferent = true;\n}\n\nvar initialData = {};\ninstruction.Initial = initialData;\nvar targetData = {};\ninstruction.Target = targetData;\n\nfor(var i = 0; i < recordInfo.fields.length; i++) {\n    var field = recordInfo.fields[i];\n    \n    var initialValue;\n    var targetValue;\n    \n    var initialValue = initialRecord.Fields[field.name];\n    var targetValue = targetRecord.Fields[field.name];\n    \n    //validate target values\n    if(targetValue === undefined) {\n        //use default\n        targetValue = field.defaultValue;\n    }\n    \n    if(targetValue === undefined) {\n        throw new Error(\"Unknown problem: undefined field value: \" + getFieldErrString(targetRecord,field));\n    }\n    \n    if(targetValue === null) {\n        if(!field.nullOk) {\n            throw new Error(\"Illegal null value: \" + getFieldErrString(targetRecord,field));\n        }\n    }\n    \n    if(!fieldsMatch(initialValue,targetValue,field)) {\n        initialData[field.name] = initialValue;\n        targetData[field.name] = targetValue;\n        recordsDifferent = true;\n    }\n}\n\nif(recordsDifferent) {\n    return instruction;\n}\nelse {\n    return null;\n}\n","supplementalCode":"function fieldsMatch(initialValue,targetValue,fieldInfo) {\n    if(fieldInfo.fieldClass === \"java.lang.String\") {\n        //compare strings with \"==\"\n        return (initialValue == targetValue);\n    }\n    else if(fieldInfo.fieldClass.startsWith(\"java.lang\")) {\n        //compare other basic values with \"===\"\n        return initialValue === targetValue;\n    }\n    else if(fieldInfo.fieldClass.startsWith(\"com.micello\")) {\n        return initialValue === targetValue;\n    }\n    else if(fieldInfo.fieldClass == \"org.json.JSONObject\") {\n        return compareJsonData(initialValue,targetValue);\n    }\n    else if(fieldInfo.fieldClass == \"org.json.JSONArray\") {\n        return compareJsonData(initialValue,targetValue);\n    }\n    else {\n        throw new Error(\"unrecognized field type: \" + fieldInfo.fieldClass);\n    }\n}\n\nfunction compareJsonData(a,b) {\n    var an = apogee.util.getNormalizedObjectCopy(a);\n    var bn = apogee.util.getNormalizedObjectCopy(b);\n    var aString = JSON.stringify(an);\n    var bString = JSON.stringify(bn);\n    return aString == bString;\n}\n    ","description":"This function creates an update instruction given an initial and target record. If the records are the same then NULL is returned. (No update is needed.)"}},"createCreateInstruction":{"name":"createCreateInstruction","type":"apogee.FunctionTable","updateData":{"argList":["createRecord"],"functionBody":"\nvar recordInfo = getRecordInfo(createRecord.Type);\n\nvar instruction = {};\ninstruction.Type = \"Create\";\ninstruction.Record = recordInfo.name;\ninstruction.Id = createRecord.Id;\n\ninstruction.targetReadPerm = createRecord.read_perm;\ninstruction.targetEditPerm = createRecord.edit_perm;\n\nvar targetData = {};\ninstruction.Target = targetData;\n\nfor(var i = 0; i < recordInfo.fields.length; i++) {\n    var field = recordInfo.fields[i];\n    var targetValue;\n    var targetValue = createRecord.Fields[field.name];\n    if(targetValue === undefined) {\n        //use default\n        targetValue = field.defaultValue;\n    }\n    \n    if(targetValue === undefined) {\n        throw new Error(\"Unknown problem: undefined field value: \" + getFieldErrString(createRecord,field));\n    }\n    \n    if(targetValue === null) {\n        if(!field.nullOk) {\n            throw new Error(\"Illegal null value: \" + getFieldErrString(createRecord,field));\n        }\n    }\n    \n    targetData[field.name] = targetValue;\n}\n\nreturn instruction;\n","supplementalCode":"","description":""}},"getFieldErrString":{"name":"getFieldErrString","type":"apogee.FunctionTable","updateData":{"argList":["record","fieldInfo"],"functionBody":"return getRecordErrString(record) + \" - \" + fieldInfo.name;","supplementalCode":"","description":""}},"getRecordErrString":{"name":"getRecordErrString","type":"apogee.FunctionTable","updateData":{"argList":["record"],"functionBody":"return record.Type + \" \" + record.Id;","supplementalCode":"","description":""}},"createDeleteInstruction":{"name":"createDeleteInstruction","type":"apogee.FunctionTable","updateData":{"argList":["deleteRecord"],"functionBody":"\nvar recordInfo = getRecordInfo(deleteRecord.Type);\n\nvar instruction = {};\ninstruction.Type = \"Delete\";\ninstruction.Record = recordInfo.name;\ninstruction.Id = deleteRecord.Id;\n\ninstruction.initialReadPerm = deleteRecord.read_perm;\ninstruction.initialEditPerm = deleteRecord.edit_perm;\n\nvar initialData = {};\ninstruction.Initial = initialData;\n\nfor(var i = 0; i < recordInfo.fields.length; i++) {\n    var field = recordInfo.fields[i];\n    var initialValue = deleteRecord.Fields[field.name];\n    \n    initialData[field.name] = initialValue;\n}\n\nreturn instruction;\n","supplementalCode":"","description":""}},"getRecordInfo":{"name":"getRecordInfo","type":"apogee.FunctionTable","updateData":{"argList":["recordType"],"functionBody":"var recordInfo = dataSetInfo.records[recordType];\n\nif(!recordInfo) {\n    throw new Error(\"Record type not found in getRecordInfo: \" + recordType);\n}\n\nreturn recordInfo;","supplementalCode":"","description":""}},"combinedEntriesToInstructionList":{"name":"combinedEntriesToInstructionList","type":"apogee.FunctionTable","updateData":{"argList":["combinedEntries"],"functionBody":"var output = [];\nfor(var key in combinedEntries) {\n    var entry = combinedEntries[key];\n    var instruction = getInstructionForCombinedEntry(entry);\n    if(instruction) {\n        output.push(instruction);\n    }\n}\n\nreturn output;","supplementalCode":"function getInstructionForCombinedEntry(combinedEntry) {\n    var newEntry = combinedEntry.newEntry;\n    var oldEntry = combinedEntry.oldEntry;\n    \n    if(newEntry) {\n        if(!oldEntry) {\n            console.log(\"Create: \" + newEntry.Id);\n            return createCreateInstruction(newEntry);\n        }\n        else {\n            //this will return null for matching records\n            console.log(\"Update(maybe): \" + newEntry.Id);\n            return createUpdateInstruction(oldEntry,newEntry);\n        }\n    }\n    else if(oldEntry) {\n        console.log(\"Delete: \" + oldEntry.Id);\n        return createDeleteInstruction(oldEntry);\n    }\n    \n    return null;\n}\n\nfunction entriesDifferent(entry1,entry2) {\n    var string1 = JSON.stringify(apogee.util.getNormalizedCopy(entry1));\n    var string2 = JSON.stringify(apogee.util.getNormalizedCopy(entry2));\n    return (string1 == string2);\n}","description":"This function takes a combined entry map of the format:\n\n{\n  \"some-identifier\":{\n    \"oldEntry\":{original record entry, if applicable},\n    \"newEntry\":{new record entry, if applicable}\n  },\n  ...\n}\n\nIt returns an instruction list.\n\n"}},"getCommitPromise":{"name":"getCommitPromise","type":"apogee.FunctionTable","updateData":{"argList":["instructionList","commitMessage","sessionKey"],"functionBody":"var commitBody = createCommitBody(instructionList,commitMessage);\nvar requestOptions = createRequestOptions(commitBody,sessionKey);\nreturn apogee.net.jsonRequest(commitUrl,requestOptions);","supplementalCode":"","description":""}},"getRequestPromise":{"name":"getRequestPromise","type":"apogee.FunctionTable","updateData":{"argList":["requestBody","sessionKey"],"functionBody":"var requestOptions = createRequestOptions(requestBody,sessionKey);\nreturn apogee.net.jsonRequest(requestUrl,requestOptions);","supplementalCode":"","description":""}},"customRequestUrl":{"name":"customRequestUrl","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return host + \"/request\";","supplementalCode":"","description":""}},"getCustomRequestPromise":{"name":"getCustomRequestPromise","type":"apogee.FunctionTable","updateData":{"argList":["requestBody","sessionKey"],"functionBody":"var requestOptions = createRequestOptions(requestBody,sessionKey);\nreturn apogee.net.jsonRequest(customRequestUrl,requestOptions);","supplementalCode":"","description":""}}}},"login":{"name":"login","type":"apogee.Folder","children":{"loginUrl":{"name":"loginUrl","type":"apogee.JsonTable","updateData":{"data":"http://eng.micello.com/TestAuthorization/loginjson","description":""}},"sessionResponse":{"name":"sessionResponse","type":"apogee.JsonTable","updateData":{"data":{"responseCode":1,"paramTable":[{"urlPattern":"http://eng.micello.com/mfs","params":[["key","S1sshnIV1Rk9EGz32Acrl8aSYsTKYd"]]},{"urlPattern":"http://mfs.micello.com","params":[["key","nS71TmmSmgvwcXlfrGrin38AMLP48B"]]},{"urlPattern":"http://factory-mfs.micello.com","params":[["key","yfZkszbELEy6lxz1sSeUZscJlC41hL"]]},{"urlPattern":"http://mfs-hub-master.micello.com/","params":[["key","pvLuRozg2EZVrpE8nCpCrQT0FOHcLh"]]},{"urlPattern":"http://mfs-us-1.micello.com","params":[["key","nS71TmmSmgvwcXlfrGrin38AMLP48B"]]},{"urlPattern":"http://eng.micello.com/mfs-node","params":[["key","dnSkxyrgxRNtGMUYbhgV8uvdPW1V4U"]]},{"urlPattern":"http://int.micello.com/mfs","params":[["key","u1VjArfzrFKvBr7X7UVRxFB4eDQmqR"]]}],"sessionKey":"SESS0f6c4c2238a670b8138b63d9fd03cc22=vh41735q1dqf9hdkul5du5be56"},"description":""}},"savedUserName":{"name":"savedUserName","type":"apogee.JsonTable","updateData":{"data":"dave","description":""}},"loginControl":{"name":"loginControl","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var onSubmit = (formData) => {\n    \n    //on click\n    var bodyJson = {};\n    bodyJson.userName = formData.userName;\n    bodyJson.password = formData.password;\n    \n    var options = {};\n    options.body = JSON.stringify(bodyJson);\n    options.method = \"POST\";\n    \n    var requestPromise = apogee.net.jsonRequest(loginUrl,options);\n    \n    //set the response\n    apogeeMessenger.asynchDataUpdate(\"sessionResponse\",requestPromise);\n    \n    //this clears the password...\n    apogeeMessenger.dataUpdate(\"savedUserName\",formData.userName);\n}\n\nvar onClear = () => {\n    var data = [];\n    data.push([\"savedUserName\",null]);\n    data.push([\"sessionResponse\",null]);\n    apogeeMessenger.compoundDataUpdate(data);\n}\n\nvar layout = [];\n\n//title\nentry = {};\nentry.type = \"heading\";\nentry.level = 2;\nentry.text = \"Login\";\nlayout.push(entry);\n\n//text entry\nentry = {};\nentry.type = \"textField\";\nentry.label = \"User Name: \";\nentry.key = \"userName\";\nentry.value = savedUserName;\nlayout.push(entry);\n\n//text entry\nentry = {};\nentry.type = \"textField\";\nentry.label = \"Password: \";\nentry.password = true;\nentry.key = \"password\";\nlayout.push(entry);\n\n//suvbmit\nentry = {};\nentry.type = \"submit\";\nentry.onSubmit = onSubmit;\nentry.onCancel = onClear;\nentry.cancelLabel = \"Clear\";\nlayout.push(entry);\n\nreturn layout;\n","supplementalCode":"","description":""}},"appendQueryParams":{"name":"appendQueryParams","type":"apogee.FunctionTable","updateData":{"argList":["inUrl"],"functionBody":"if((!sessionResponse)||(!sessionResponse.paramTable)) {\n    throw new Error(\"Param table not loaded!\");\n}\n\nvar isMatchingKey = (paramEntry) => inUrl.startsWith(paramEntry.urlPattern);\n\nvar paramEntry = sessionResponse.paramTable.find(isMatchingKey);\n\nif(paramEntry) {\n    if(paramEntry.params.length > 1) {\n        throw new Error(\"Code only supports 1 appended parameter. (Is an easy fi to add more)\")\n    }\n    else if(paramEntry.params.length === 1) {\n        return inUrl + \"?\" + paramEntry.params[0][0] + \"=\" + paramEntry.params[0][1];\n    }\n}\n      \n//no params to add\nreturn inUrl;\n","supplementalCode":"","description":""}},"getSessionKey":{"name":"getSessionKey","type":"apogee.FunctionTable","updateData":{"argList":[],"functionBody":"if((sessionResponse)&&(sessionResponse.sessionKey)) {\n    return sessionResponse.sessionKey;\n}\nelse {\n    return null;\n}","supplementalCode":"","description":""}},"loginStatus":{"name":"loginStatus","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"if(sessionResponse) {\n    if(sessionResponse.responseCode < 0) {\n        throw new Error(\"Error in login: \" + sessionResponse.message);\n    }\n    else if(sessionResponse.responseCode > 0) {\n        return \"Login was successful\";\n    }\n    else {\n        throw new Error(\"Unknown login error!\");\n    }\n}\nelse {\n    return \"Login needed\";\n}\n\n","supplementalCode":"","description":""}}}}}}},"components":{"type":"apogeeapp.app.FolderComponent","treeState":1,"children":{"tasks":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":37,"y":37}},"tabOpen":true,"treeState":1,"children":{"submit":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":386,"y":24}},"tabOpen":true,"treeState":1,"children":{"submitControl":{"type":"apogeeapp.app.CustomControlComponent","windowState":{"sizeInfo":{"width":377,"height":325},"posInfo":{"x":24,"y":91},"state":0,"viewType":"Output"},"resource":{"html":"<h2>Submit</h2>\n<textarea id=\"submit_messageInput\"></textarea><br>\n<input type=\"button\" id=\"submit_commitButton\" value=\"Commit\"></input>\n<input type=\"button\" id=\"submit_cancelButton\" value=\"Cancel\"></input>","onLoad":"this.submitButton = document.getElementById(\"submit_commitButton\");\nthis.cancelButton = document.getElementById(\"submit_cancelButton\");\nthis.messageInput = document.getElementById(\"submit_messageInput\");\nthis.initialized = true;\n\nvar instance = this;\nthis.submitButton.onclick = function() {\n    instance.onSubmit();\n}\nthis.cancelButton.onclick = function() {\n    instance.onCancel();\n}","constructorAddition":"this.messageInput = null;\nthis.submitButton = null;\nthis.cancelButton = null;\nthis.initialized = false;\n\nthis.onSubmit = function() {\n    \n    if(!this.initialized) {\n        return;\n    }\n    \n    var commitMessage = this.messageInput.value.trim();\n    if((!commitMessage)||(commitMessage.length === 0)) {\n        alert(\"You must enter a commit message!\");\n        return;\n    }\n    this.messageInput.value = \"\";\n    \n    if((!this.instructionList)||(this.instructionList.length === 0)) {\n        alert(\"There is no data to commit.\");\n        return;\n    }\n    \n    var updateInfo = [];\n    updateInfo.push([ \"commitMessage\",commitMessage]);\n    updateInfo.push([\"liveInstructionList\",this.instructionList]);\n    mode.getMessenger().compoundDataUpdate(updateInfo,true);\n}\n\nthis.onCancel = function() {\n    console.log(this.previousTask);\n    taskAppModule.taskCanceled(mode.getMessenger(),[\"submit\",\"submitControl\"],this.previousTask);\n}","setData":"if(!data) return;\n\nthis.instructionList = data.instructionList;\nthis.previousTask = data.previousTask;","css":"#submit_messageInput {\n    height: 200px;\n    width: 300px;\n}"},"destroyOnInactive":false},"commitResponse":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":730,"height":306},"posInfo":{"x":452,"y":276},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"commitMessage":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":271,"height":99},"posInfo":{"x":450,"y":189},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"liveInstructionList":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":315,"height":124},"posInfo":{"x":447,"y":234},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"taskResult":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":372,"height":147},"posInfo":{"x":453,"y":335},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"sessionKey":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":552,"height":52},"posInfo":{"x":21,"y":12},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"result":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":429,"height":239},"posInfo":{"x":730,"y":119},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"state":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":290,"height":92},"posInfo":{"x":738,"y":74},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"instructionList":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":692,"height":683},"posInfo":{"x":609,"y":505},"state":0,"viewType":"Formula"},"dataView":"Colorized"}}},"getSessionKey":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":447,"height":400},"posInfo":{"x":48,"y":440},"state":-1,"viewType":"Code"}},"currentTask":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":287,"height":92},"posInfo":{"x":48,"y":240},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"getFileTypeName":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":593,"height":400},"posInfo":{"x":47,"y":496},"state":-1,"viewType":"Code"}},"commonData":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":49,"y":379}},"tabOpen":true,"treeState":1,"children":{"fileTypeList":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":727,"height":325},"posInfo":{"x":130,"y":582},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"fileTypeIdToName":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":722,"height":320},"posInfo":{"x":36,"y":461},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"fileTypeNameToId":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":685,"height":300},"posInfo":{"x":38,"y":412},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"customerInfo":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":689,"height":321},"posInfo":{"x":42,"y":27},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"INACTIVE_LAYOUT":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":379,"y":31},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"DUMMY_DROPDOWN_ENTRY":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":381,"y":77},"state":0,"viewType":"Data"},"dataView":"Colorized"},"GLOBAL_CONTEXT":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":45},"posInfo":{"x":381,"y":126},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"CID_CONTEXT_PREFIX":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":34},"posInfo":{"x":378,"y":177},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"DEFAULT_COM_FILE_NAME":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":736,"y":33},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"DEFAULT_META_FILE_NAME":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":736,"y":77},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"getFileTypeName":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":400},"posInfo":{"x":811,"y":405},"state":0,"viewType":"Code"}}}},"getFileTypeId":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":670,"height":400},"posInfo":{"x":45,"y":539},"state":-1,"viewType":"Code"}},"editComFile":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":51,"y":100}},"tabOpen":true,"treeState":1,"children":{"comFileResponse":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":659,"height":293},"posInfo":{"x":63,"y":45},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"metaFileList":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":1190,"height":668},"posInfo":{"x":49,"y":198},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"existingComFileEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":360,"height":695},"posInfo":{"x":62,"y":122},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"availableMetaFiles":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":882,"height":366},"posInfo":{"x":50,"y":240},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"comFile":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":688,"height":489},"posInfo":{"x":63,"y":81},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"NEW_COM_FILE_REF":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":955,"y":28},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"sections":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":633,"height":363},"posInfo":{"x":954,"y":113},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"refForUseType":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":292,"height":72},"posInfo":{"x":955,"y":65},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"mergedSelections":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":610,"height":651},"posInfo":{"x":1600,"y":795},"state":0,"viewType":"Formula"},"dataView":"Colorized"},"editComFile":{"type":"apogeeapp.app.FormDataComponent","windowState":{"sizeInfo":{"width":686,"height":955},"posInfo":{"x":495,"y":203},"state":0,"viewType":"Form"}},"initialEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":1005,"height":549},"posInfo":{"x":48,"y":292},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"updatedComFileEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":900,"height":583},"posInfo":{"x":109,"y":852},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"getSelectionKey":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":67},"posInfo":{"x":566,"y":31},"state":-1,"viewType":"Code"}},"removedComFileEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":840,"height":540},"posInfo":{"x":111,"y":904},"state":-1,"viewType":"Data"},"dataView":"Colorized"}}},"editPostProcess":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":55,"y":147}},"treeState":1,"children":{"instructionList":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":910,"height":642},"posInfo":{"x":37,"y":197},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"createComFileEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":937,"height":521},"posInfo":{"x":371,"y":126},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"editComFileEntryPairs":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":938,"height":466},"posInfo":{"x":368,"y":169},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"deleteComFileEntries":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":948,"height":470},"posInfo":{"x":367,"y":211},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"createComFile":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":485,"height":378},"posInfo":{"x":367,"y":28},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"comFile":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":348,"height":55},"posInfo":{"x":42,"y":86},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"mergedSelections":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":414,"height":479},"posInfo":{"x":43,"y":36},"state":-1,"viewType":"Formula"},"dataView":"Colorized"}}},"selectCid":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":206,"y":629}},"tabOpen":true,"treeState":1,"children":{"selectContext":{"type":"apogeeapp.app.FormDataComponent","windowState":{"sizeInfo":{"width":546,"height":231},"posInfo":{"x":61,"y":91},"state":0,"viewType":"Form"}},"getOtherContexts":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":792,"height":400},"posInfo":{"x":685,"y":350},"state":-1,"viewType":"Code"}},"getAllContexts":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":400},"posInfo":{"x":675,"y":396},"state":-1,"viewType":"Code"}},"getCid":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":400},"posInfo":{"x":687,"y":273},"state":-1,"viewType":"Code"}},"getCidContext":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":400},"posInfo":{"x":686,"y":310},"state":-1,"viewType":"Code"}}}}}},"micemetarDataAccess":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":168,"y":67}},"treeState":-1,"children":{"createRecord":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":560,"height":321},"posInfo":{"x":33,"y":368},"state":-1,"viewType":"Private"}},"recordsToCreateInstructions":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":834,"height":391},"posInfo":{"x":30,"y":472},"state":-1,"viewType":"Code"}},"createCommitBody":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":568,"height":400},"posInfo":{"x":629,"y":225},"state":-1,"viewType":"Code"}},"createRequestOptions":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":523,"height":254},"posInfo":{"x":822,"y":379},"state":-1,"viewType":"Code"}},"host":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":353,"height":71},"posInfo":{"x":16,"y":6},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"commitUrl":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":433,"height":107},"posInfo":{"x":14,"y":98},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"requestUrl":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":450,"height":68},"posInfo":{"x":14,"y":58},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"dataSetInfo":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":882,"height":611},"posInfo":{"x":317,"y":144},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"createUpdateInstruction":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":1002,"height":655},"posInfo":{"x":37,"y":247},"state":-1,"viewType":"Code"}},"createCreateInstruction":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":994,"height":643},"posInfo":{"x":39,"y":209},"state":-1,"viewType":"Code"}},"getFieldErrString":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":512,"height":68},"posInfo":{"x":761,"y":616},"state":-1,"viewType":"Code"}},"getRecordErrString":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":400,"height":81},"posInfo":{"x":762,"y":664},"state":-1,"viewType":"Code"}},"createDeleteInstruction":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":678,"height":540},"posInfo":{"x":36,"y":289},"state":-1,"viewType":"Code"}},"getRecordInfo":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":480,"height":400},"posInfo":{"x":818,"y":427},"state":-1,"viewType":"Code"}},"combinedEntriesToInstructionList":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":721,"height":524},"posInfo":{"x":31,"y":516},"state":-1,"viewType":"Private"}},"getCommitPromise":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":569,"height":109},"posInfo":{"x":316,"y":26},"state":-1,"viewType":"Code"}},"getRequestPromise":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":546,"height":89},"posInfo":{"x":315,"y":67},"state":-1,"viewType":"Code"}},"customRequestUrl":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":300,"height":300},"posInfo":{"x":17,"y":142},"state":-1,"viewType":"Formula"},"dataView":"Colorized"},"getCustomRequestPromise":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":668,"height":88},"posInfo":{"x":317,"y":104},"state":-1,"viewType":"Code"}}}},"login":{"type":"apogeeapp.app.FolderComponent","windowState":{"posInfo":{"x":1595,"y":330}},"tabOpen":true,"treeState":-1,"children":{"loginUrl":{"type":"apogeeapp.app.TextComponent","windowState":{"sizeInfo":{"width":465,"height":43},"posInfo":{"x":26,"y":27},"state":-1,"viewType":"Text"}},"sessionResponse":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":697,"height":330},"posInfo":{"x":17,"y":355},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"savedUserName":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":284,"height":69},"posInfo":{"x":24,"y":72},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"loginControl":{"type":"apogeeapp.app.DynamicForm","windowState":{"sizeInfo":{"width":323,"height":181},"posInfo":{"x":24,"y":113},"state":0,"viewType":"Output"}},"appendQueryParams":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":845,"height":400},"posInfo":{"x":496,"y":43},"state":-1,"viewType":"Code"}},"getSessionKey":{"type":"apogeeapp.app.FunctionComponent","windowState":{"sizeInfo":{"width":690,"height":180},"posInfo":{"x":493,"y":100},"state":-1,"viewType":"Code"}},"loginStatus":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":399,"height":45},"posInfo":{"x":20,"y":404},"state":0,"viewType":"Data"},"dataView":"Colorized"}}}}},"activeTabMember":"Model.tasks.editComFile"}