{"fileType":"apogee app js workspace","version":"0.60","references":{"viewState":{"treeState":1,"lists":{"es module":{"treeState":0},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"Workspace","children":{"main":{"name":"main","type":"apogee.Folder","children":{"testForm":{"name":"testForm","type":"apogee.Folder","children":{"layout":{"name":"layout","type":"apogee.FunctionMember","updateData":{"argList":[],"functionBody":"return [\n    {\n        type: \"heading\",\n        level: 2, //1-6\n        text: title\n    },\n    {\n        type: \"checkbox\",\n        label: \"Whip it: \", //optional\n        value: true, //optional\n        hint: \"Optional\",\n        tooltip: \"Whether or not to Whip It\",\n        key: \"whipit\"\n    },\n    {\n        type: \"checkboxGroup\",\n        label: \"When to Whip It: \", //optional\n        entries: [[\"When a problem comes along\",\"problem\"],[\"Before the cream sits out too long\",\"cream\"],[\"When something's going wrong\",\"problem\"]], //here we express as display value + return value\n        //horizontal: true, //optional, defaults to false\n        key: \"responso\"\n    },\n    {\n        type: \"dropdown\",\n        label: \"Actions: \", //optional\n        entries: [\"Shape it up\",\"Get straight\",\"Go forward\",\"Move ahead\",\"Try to detect it\"], //see checkboxGroup for alternate choice format\n        value: \"Shape it up\", //optional\n        key: \"choices\"\n    },\n    {\n        type: \"htmlDisplay\",\n        html: \"<em>When a good time turns around you must whip it. You will never live it down unless you whip it. No one gets away until they whip it</em>\",\n        selector: {\n            parentKey: \"choices\",\n            parentValue: \"Shape it up\"\n        }\n    },\n    {\n        type: \"invisible\",\n        value: {\"msg\": \"Whip it carefully\", \"deliveryTone\": \"silent\"},\n        key: \"secret\"\n    },\n    {\n        type: \"radioButtonGroup\",\n        label: \"More, apparently random, actions: \",\n        entries: [\"Crack that whip\",\"Give the past a slip\",\"Step on a crack\",\"Break your momma's back\"], //We can also use [[\"Yes\",\"yes\"],[\"No\",\"no\"]] which gives the display value and the return value\n        value: \"cream\",\n        selector: {\n            parentKey: \"choices\",\n            parentValue: \"Shape it up\"\n        }\n    },\n    {\n        type: \"spacer\",\n        height: 20 //optional, defaults to 15, in pixels\n    },\n    {\n        type: \"panel\",\n        formData: [ //a panel includes a list of elements, like the form itself\n            {\n                type: \"textField\",\n                //password: true, //optional - if this is set to true it is a password field\n                label: \"Title: \",\n                value: \"Whip It\",\n                size: 50, //optional character widthof field\n                key: \"title\"\n            },\n            {\n                type: \"textarea\",\n                label: \"Lyrics: \",\n                value: \"Crack that whip\\nGive the past a slip\\nStep on a crack\\nBreak your momma's back\\n\\nWhen a problem comes along\\nYou must whip it\\nBefore the cream sets out too long\\nYou must whip it\\nWhen something's going wrong\\nYou must whip it\\nNow whip it\\nInto shape\\nShape it up\\nGet straight\\nGo forward\\nMove ahead\\nTry to detect it\\nIt's not too late\\nTo whip it\\nWhip it good\\n\\nWhen a good time turns around\\nYou must whip it\\nYou will never live it down\\nUnless you whip it\\nNo one gets away\\nUntil they whip it\\n\\nI say whip it\\nWhip it good\\nI say whip it\\nWhip it good\\n\\nCrack that whip\\nGive the past a slip\\nStep on a crack\\nBreak your momma's back\\n\\nWhen a problem comes along\\nYou must whip it\\nBefore the cream sets out too long\\nYou must whip it\\nWhen something's going wrong\\nYou must whip it\\n\\nNow whip it\\nInto shape\\nShape it up\\nGet straight\\nGo forward\\nMove ahead\\nTry to detect it\\nIt's not too late\\nTo whip it\\nInto shape\\nShape it up\\nGet straight\\nGo forward\\nMove ahead\\nTry to detect it\\nIt's not too late\\nTo whip it\\nWell, whip it good\",\n                rows: 10, //optional number of rows\n                cols: 50, //optional character width of field\n                key: \"lyrics\"\n            }\n        ],\n        key: \"lyricsPanel\",\n        selector: { //any item can include a selector, which hides or shows it based on a parent element and its value\n            parentKey: \"whipit\",\n            parentValue: true,\n            //keepActiveOnHide: true //if this is missing or false the value of a hidden panel is not included in the return value\n        }\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit, //optional - if this is present the button is present\n        onCancel: onCancel, //optional - if this is present the button is present\n        submitLabel: \"Whip it!\", //optional, defaults to OK if button is present\n        cancelLabel: \"Never mind\", //optional, defaults to Cancel if button is present\n        //submitDisabled: true,\n        cancelDisbled: true,\n        key: \"xxx\" //this isn't really needed\n    }\n]","supplementalCode":""}},"data":{"name":"data","type":"apogee.JsonMember","updateData":{"data":{"whipit":true,"responso":[],"choices":"Shape it up","secret":{"msg":"Whip it carefully","deliveryTone":"silent"},"lyricsPanel":{"title":"Whip It","lyrics":"Crack that whip\nGive the past a slip\nStep on a crack\nBreak your momma's back\n\nWhen a problem comes along\nYou must whip it\nBefore the cream sets out too long\nYou must whip it\nWhen something's going wrong\nYou must whip it\nNow whip it\nInto shape\nShape it up\nGet straight\nGo forward\nMove ahead\nTry to detect it\nIt's not too late\nTo whip it\nWhip it good\n\nWhen a good time turns around\nYou must whip it\nYou will never live it down\nUnless you whip it\nNo one gets away\nUntil they whip it\n\nI say whip it\nWhip it good\nI say whip it\nWhip it good\n\nCrack that whip\nGive the past a slip\nStep on a crack\nBreak your momma's back\n\nWhen a problem comes along\nYou must whip it\nBefore the cream sets out too long\nYou must whip it\nWhen something's going wrong\nYou must whip it\n\nNow whip it\nInto shape\nShape it up\nGet straight\nGo forward\nMove ahead\nTry to detect it\nIt's not too late\nTo whip it\nInto shape\nShape it up\nGet straight\nGo forward\nMove ahead\nTry to detect it\nIt's not too late\nTo whip it\nWell, whip it good"}}}},"isInputValid":{"name":"isInputValid","type":"apogee.FunctionMember","updateData":{"argList":["formValue"],"functionBody":"//If data valid, return true. If data is invalid, return an error message.\nreturn true;","supplementalCode":""}}}},"title":{"name":"title","type":"apogee.JsonMember","updateData":{"data":"Title 100000"}},"updater":{"name":"updater","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let handle = null;\nlet updateNumber = 1;\nlet count = 0;\n\nlet updateFunction = () => {\n    console.log(\"About to do update: \" + updateNumber + \" of \" + count);\n    try {\n        admin.getCommandMessenger().dataCommand(\"title\",\"Title \" + updateNumber++);\n    }\n    catch(error) {\n        console.error(error.stack);\n    }\n    if(updateNumber > count) clearInterval(handle);\n}\n\nlet onSubmit = formValue => {\n    updateNumber = 1;\n    count = parseInt(formValue.iterations);\n    \n    let interval = parseInt(formValue.interval);\n    if((count > 0)&&(interval > 0)) {\n        let intervalMs = 100;\n        handle = setInterval(updateFunction,intervalMs);\n    }\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"Updater\"\n    },\n    {\n        type: \"textField\",\n        label: \"Iterations: \",\n        value: 0,\n        key: \"iterations\"\n    },\n    {\n        type: \"textField\",\n        label: \"Interval msec: \",\n        value: 100,\n        key: \"interval\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit\n    }\n]","supplementalCode":""}},"hjk":{"name":"hjk","type":"apogee.Folder","children":{}}}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"apogeeComponent","attrs":{"name":"updater","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"title","id":0,"state":""}},{"type":"apogeeComponent","attrs":{"name":"testForm","id":0,"state":""}},{"type":"paragraph"}]}},"children":{"testForm":{"type":"apogeeapp.DataFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Layout Code":{"isViewActive":true,"height":7000},"Layout Private":{"isViewActive":false},"isInputValid(formValue)":{"isViewActive":false},"isInputValid Private":{"isViewActive":false},"Form Value":{"isViewActive":false}}}}},"title":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"updater":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"hjk":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"paragraph","content":[{"type":"text","text":"hjkghj"}]}]}},"viewState":{"childDisplayState":null}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}