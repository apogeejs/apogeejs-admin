{"fileType":"apogee app js workspace","version":"0.50","references":{},"code":{"model":{"fileType":"apogee model","version":0.2,"name":"Workspace","children":{"Main":{"name":"Main","type":"apogee.Folder","children":{"previousWorkspace":{"name":"previousWorkspace","type":"apogee.JsonTable","updateData":{"data":{"fileType":"apogee app js workspace","version":"0.50","references":{"refLists":{"js link":{"entries":[{"url":"https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"}],"viewState":{"treeState":1}}},"viewState":{"treeState":1}},"code":{"model":{"fileType":"apogee model","version":0.2,"name":"chartjsCustomComponent","data":{"name":"Main","type":"apogee.Folder","children":{"chart":{"name":"chart","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return data;","supplementalCode":""}},"data":{"name":"data","type":"apogee.JsonTable","updateData":{"data":{"type":"bar","data":{"labels":["Red","Blue","Yellow","Green","Purple","Orange"],"datasets":[{"label":"# of Votes","data":[12,19,3,5,8,3],"backgroundColor":["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],"borderColor":["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],"borderWidth":1}]},"options":{"scales":{"yAxes":[{"ticks":{"beginAtZero":true}}]}}}}}}}},"components":{"Main":{"type":"apogeeapp.app.FolderComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Chart.js Test"}]},{"type":"heading2","content":[{"type":"text","text":"Chart"}]},{"type":"apogeeComponent","attrs":{"name":"chart","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Data"}]},{"type":"paragraph","content":[{"type":"text","text":"This is bulk data, including all settings."}]},{"type":"apogeeComponent","attrs":{"name":"data","id":0,"state":""}},{"type":"paragraph"},{"type":"paragraph"}]}},"children":{"chart":{"type":"apogeeapp.app.CustomComponent","resource":{"html":"<div class=\"chartContainer\"><canvas class=\"chartCanvas\" id=\"chart_chart\"></canvas></div>","css":".chartContainer {\r\n    position: relative;\r\n    /*height: 300px;*/\r\n    width: 400px;\r\n    overflow: none;\r\n}\r\n\r\n.chartCanvas {\r\n    position: relative;\r\n}","uiCode":"let canvas;\nlet chart;\n \n__customControlDebugHook();\n\nreturn {\n    onLoad: function(outputElement,admin) {\n        canvas = document.getElementById(\"chart_chart\");\n    },\n    \n    setDisplayData: function(data) {\n        let dataCopy = apogeeutil.jsonCopy(data);\n        chart = new Chart(canvas,dataCopy);\n    },\n    \n    setData: function(data) {\n        //no data is set!\n    }\n} "},"destroyOnInactive":false,"viewState":{"childDisplayState":{"views":{"Display":{"isViewActive":true},"Input Code":{"isViewActive":false,"height":7000},"Input Private":{"isViewActive":false},"HTML":{"isViewActive":false,"height":7000},"CSS":{"isViewActive":false,"height":7000},"uiGenerator()":{"isViewActive":false,"height":7000}}}}},"data":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}}},"newWorkspace":{"name":"newWorkspace","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"let workspace = apogeeutil.jsonCopy(previousWorkspace);\n\nlet oldMainFolderData = workspace.code.model.data;\ndelete workspace.code.model.data;\n\nworkspace.code.model.children = {};\n\nworkspace.code.model.children.Main = oldMainFolderData;\n\nreturn workspace;\n","supplementalCode":""}},"referenceNewWorkspace":{"name":"referenceNewWorkspace","type":"apogee.JsonTable","updateData":{"data":{"fileType":"apogee app js workspace","version":"0.50","references":{},"code":{"model":{"fileType":"apogee model","version":0.2,"name":"FormulaTestWorkspace","children":{"Main":{"name":"Main","type":"apogee.Folder","children":{"messengerPromise":{"name":"messengerPromise","type":"apogee.JsonTable","updateData":{"data":1585952224851}},"messengerInvalidValue":{"name":"messengerInvalidValue","type":"apogee.JsonTable","updateData":{"invalidValue":true}},"messengerError":{"name":"messengerError","type":"apogee.JsonTable","updateData":{"errorList":["Error: Test error!"]}},"messengerValue":{"name":"messengerValue","type":"apogee.JsonTable","updateData":{"data":1585952221851}},"staticValueTest":{"name":"staticValueTest","type":"apogee.JsonTable","updateData":{"data":[1,2,3]}},"simpleFormulaTest":{"name":"simpleFormulaTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"let value = apogeeutil.jsonCopy(staticValueTest);\nvalue.push(4);\nreturn value;","supplementalCode":""}},"invalidValueTest":{"name":"invalidValueTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return apogeeutil.INVALID_VALUE;","supplementalCode":""}},"codeErrorTest":{"name":"codeErrorTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return foo(;","supplementalCode":""}},"errorReturnTest":{"name":"errorReturnTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return new Error(\"This is an error as a return value.\");","supplementalCode":""}},"thrownErrorTest":{"name":"thrownErrorTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"throw new Error(\"This is a thrown error.\");","supplementalCode":""}},"promiseAndMessengerTest":{"name":"promiseAndMessengerTest","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"//set current time on table d\nlet currentTime = Date.now();\napogeeMessenger.dataUpdate(\"messengerValue\",currentTime);\n\n//set the future time here\nlet timeoutFunction;\nlet timeoutPromise = new Promise((resolve,reject) => {\n    timeoutFunction = () => {\n        resolve(Date.now());\n    }\n});\n\nsetTimeout(timeoutFunction,3000);\n\n\napogeeMessenger.dataUpdate(\"messengerPromise\",timeoutPromise);\napogeeMessenger.compoundDataUpdate([[\"messengerError\",new Error(\"Test error!\")],[\"messengerInvalidValue\",apogeeutil.INVALID_VALUE]]);\n\nreturn timeoutPromise;","supplementalCode":""}}}}}},"components":{"Main":{"type":"apogeeapp.app.FolderComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Formula Tests"}]},{"type":"paragraph","content":[{"type":"text","text":"These are several tests for members and formulas. Several of the members have errors so the page itself should display errors. Also, within the members themselves, some are pending and some are invalid."}]},{"type":"heading2","content":[{"type":"text","text":"Basic Tests"}]},{"type":"heading3","content":[{"type":"text","text":"Static Value Test"}]},{"type":"paragraph","content":[{"type":"text","text":"Here we just set a static data value."}]},{"type":"apogeeComponent","attrs":{"name":"staticValueTest","id":0,"state":""}},{"type":"heading3","content":[{"type":"text","text":"Simple Formula Tests"}]},{"type":"paragraph","content":[{"type":"text","text":"Here we have a simple formula, depending on \"staticValueTest\"."}]},{"type":"apogeeComponent","attrs":{"name":"simpleFormulaTest","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we have a simple formula with a code error."}]},{"type":"apogeeComponent","attrs":{"name":"codeErrorTest","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we have a thrown error in a formula."}]},{"type":"apogeeComponent","attrs":{"name":"thrownErrorTest","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we have a simple formula that returns an Error object (as opposed to throwing an error in the formula."}]},{"type":"apogeeComponent","attrs":{"name":"errorReturnTest","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we have a simple formula that returns \"INVALID_VALUE\""}]},{"type":"apogeeComponent","attrs":{"name":"invalidValueTest","id":0,"state":""}},{"type":"heading3","content":[{"type":"text","text":"Promise and Messenger Tests"}]},{"type":"paragraph","content":[{"type":"text","text":"This formula returns a promise. On opening or saving the formula, it should be in a pending state."}]},{"type":"paragraph","content":[{"type":"text","text":"This formula also uses the messenger (only because I had a promise handy to send to another member). It tests the different messenger cases, sending to members in the \"Messenger Receive Members\" section below."}]},{"type":"paragraph","content":[{"type":"text","text":"The messenger cases tested are:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"Data update"}]},{"type":"listItem","content":[{"type":"text","text":"Compound data update"}]},{"type":"listItem","content":[{"type":"text","text":"Send a normal value (dataUpdate)"}]},{"type":"listItem","content":[{"type":"text","text":"Send a promise value (dataUpdate)"}]},{"type":"listItem","content":[{"type":"text","text":"Send an error value (compoundUpdate part 1)"}]},{"type":"listItem","content":[{"type":"text","text":"Send an invalid value. (compoundUpdate part 2)"}]}]},{"type":"apogeeComponent","attrs":{"name":"promiseAndMessengerTest","id":0,"state":""}},{"type":"heading4","content":[{"type":"text","text":"Messenger Receive Members"}]},{"type":"paragraph","content":[{"type":"text","text":"The following members are recievers for the different messenger cases:"}]},{"type":"apogeeComponent","attrs":{"name":"messengerValue","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"messengerPromise","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"messengerInvalidValue","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"messengerError","id":0,"state":""}}]}},"children":{"messengerPromise":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"},"messengerInvalidValue":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"messengerError":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"messengerValue":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"staticValueTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"simpleFormulaTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"invalidValueTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"codeErrorTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"errorReturnTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"thrownErrorTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"promiseAndMessengerTest":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"}}}}}}}},"oldModelData":{"name":"oldModelData","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return previousWorkspace.code.model.data;","supplementalCode":""}}}}}},"components":{"Main":{"type":"apogeeapp.app.FolderComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Workspace Conversion"}]},{"type":"paragraph","content":[{"type":"text","text":"This converts from the workspaces I had originally in this folder to the current (4/3/20). One change:"}]},{"type":"bulletList","content":[{"type":"listItem","content":[{"type":"text","text":"the root folder is different, now being contained in an object called \"children\" instead of \"data\", and now be a map allowing for multiple entries."}]}]},{"type":"paragraph","content":[{"type":"text","text":"Previous Workspace:"}]},{"type":"apogeeComponent","attrs":{"name":"previousWorkspace","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"New Workspace:"}]},{"type":"apogeeComponent","attrs":{"name":"newWorkspace","id":0,"state":""}},{"type":"heading2","content":[{"type":"text","text":"Working Cells"}]},{"type":"apogeeComponent","attrs":{"name":"oldModelData","id":0,"state":""}},{"type":"paragraph"},{"type":"paragraph"},{"type":"heading2","content":[{"type":"text","text":"Reference"}]},{"type":"apogeeComponent","attrs":{"name":"referenceNewWorkspace","id":0,"state":""}}]}},"children":{"previousWorkspace":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"},"newWorkspace":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"},"referenceNewWorkspace":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"},"oldModelData":{"type":"apogeeapp.app.JsonTableComponent","dataView":"Colorized"}}}}}}