{"fileType":"apogee app js workspace","version":"0.60","references":{"refEntries":[{"url":"/applications/modules/chartjsmodule/src/ChartJSComponentModule.js","nickname":"ChartJSComponentModule.j","entryType":"es module"},{"url":"/applications/modules/csvmodule/src/CSVComponentModule.js","nickname":"CSVComponentModule.js","entryType":"es module"}],"viewState":{"treeState":1,"lists":{"es module":{"treeState":1},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"BisRevTest","children":{"main":{"name":"main","type":"apogee.Folder","children":{"dataUrl":{"name":"dataUrl","type":"apogee.JsonMember","updateData":{"data":"https://raw.githubusercontent.com/OpportunityInsights/EconomicTracker/main/data/Womply%20Revenue%20-%20National%20-%20Daily.csv"}},"nationalRevenueCsvText":{"name":"nationalRevenueCsvText","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return apogeeutil.textRequest(dataUrl); ","supplementalCode":""}},"nationalRevenueGraph":{"name":"nationalRevenueGraph","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"inputType\"] = \"form\"\noutput[\"formData\"]= {};\noutput[\"formData\"][\"xValuesType\"] = \"category\"\noutput[\"formData\"][\"xCategories\"] = dateLabels\noutput[\"formData\"][\"categoryDataSeries\"]= []\noutput[\"formData\"][\"categoryDataSeries\"][0]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][0][\"yAccessor\"] = row => row.revenue_all * 100\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"label\"] = \"Total\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"borderWidth\"] = 3\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][1][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][1][\"yAccessor\"] = row => row.revenue_ss40 * 100\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"label\"] = \"Transportation\"\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][2][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][2][\"yAccessor\"] = row => row.revenue_ss60 * 100\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"label\"] = \"Professional and Business Services\"\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][2][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][3][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][3][\"yAccessor\"] = row => row.revenue_ss65 * 100\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"label\"] = \"Education and Health Services\"\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][3][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"dataType\"] = \"array\"\noutput[\"formData\"][\"categoryDataSeries\"][4][\"dataArray\"] = nationalRevenue.data.body\noutput[\"formData\"][\"categoryDataSeries\"][4][\"yAccessor\"] = row => row.revenue_ss70 * 100\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"label\"] = \"Liesure and Hospitality\"\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][4][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"]= {};\noutput[\"formData\"][\"options\"][\"xValuesType\"] = \"category\"\noutput[\"formData\"][\"options\"][\"title\"]= {};\noutput[\"formData\"][\"options\"][\"title\"][\"display\"] = true\noutput[\"formData\"][\"options\"][\"title\"][\"text\"] = \"Small Business Revenue % Change from January\"\noutput[\"formData\"][\"options\"][\"title\"][\"fontSize\"] = 18\noutput[\"formData\"][\"options\"][\"title\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"legend\"]= {};\noutput[\"formData\"][\"options\"][\"legend\"][\"display\"] = true\noutput[\"formData\"][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"line\"][\"borderWidth\"] = 1\noutput[\"formData\"][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"options\"][\"point\"][\"showPoints\"] = false\noutput[\"formData\"][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"yAxes\"]= {};\noutput[\"formData\"][\"options\"][\"yAxes\"][\"type\"] = \"linear\"\noutput[\"formData\"][\"options\"][\"yAxes\"][\"stacked\"] = false\noutput[\"storedFormValue\"] = {\"inputType\":\"form\",\"formData\":{\"xValuesType\":\"category\",\"xCategories\":\"dateLabels\",\"categoryDataSeries\":[{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"row => row.revenue_all * 100\",\"options\":{\"label\":\"Total\",\"line\":{\"selectColor\":false,\"borderWidth\":3,\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"row => row.revenue_ss40 * 100\",\"options\":{\"label\":\"Transportation\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"row => row.revenue_ss60 * 100\",\"options\":{\"label\":\"Professional and Business Services\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"row => row.revenue_ss65 * 100\",\"options\":{\"label\":\"Education and Health Services\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"array\",\"dataArray\":\"nationalRevenue.data.body\",\"yAccessor\":\"row => row.revenue_ss70 * 100\",\"options\":{\"label\":\"Liesure and Hospitality\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}}],\"options\":{\"xValuesType\":\"category\",\"title\":{\"display\":true,\"text\":\"Small Business Revenue % Change from January\",\"fontSize\":18,\"selectColor\":false},\"legend\":{\"display\":true,\"position\":\"default\"},\"line\":{\"selectColor\":false,\"borderWidth\":1,\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":false,\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"},\"yAxes\":{\"type\":\"linear\",\"stacked\":false}}}}\nreturn output;","supplementalCode":""}},"dateLabels":{"name":"dateLabels","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return nationalRevenue.data.body.map( row => `${row.month}/${row.day}/${row.year}`);","supplementalCode":""}},"nationalRevenue":{"name":"nationalRevenue","type":"apogee.Folder","children":{"formData":{"name":"formData","type":"apogee.JsonMember","updateData":{"data":{"input":"nationalRevenueCsvText","outputFormat":"maps","dynamicTyping":true,"skipEmptyLines":true}}},"formResult":{"name":"formResult","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"input\"] = nationalRevenueCsvText\noutput[\"outputFormat\"] = \"maps\"\noutput[\"dynamicTyping\"] = true\noutput[\"skipEmptyLines\"] = true\noutput[\"storedFormValue\"] = {\"input\":\"nationalRevenueCsvText\",\"outputFormat\":\"maps\",\"dynamicTyping\":true,\"skipEmptyLines\":true}\nreturn output;","supplementalCode":"","contextParentGeneration":2}},"data":{"name":"data","type":"apogeeapp.CSVCell-data"}}}}}}},"components":{"main":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Test Chart Workspace"}]},{"type":"paragraph","content":[{"type":"text","text":"This is a test chart workspace. I will download some CSV data and graphit."}]},{"type":"heading2","content":[{"type":"text","text":"Data"}]},{"type":"paragraph","content":[{"type":"text","text":"Here is the url for data from TrackTheRecovery.com."}]},{"type":"apogeeComponent","attrs":{"name":"dataUrl","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here is the downloaded data."}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenueCsvText","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"Here we convert to JSON"}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenue","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"dateLabels","id":0,"state":""}},{"type":"paragraph"},{"type":"heading2","content":[{"type":"text","text":"Graph"}]},{"type":"paragraph","content":[{"type":"text","text":"Here we graph the data."}]},{"type":"apogeeComponent","attrs":{"name":"nationalRevenueGraph","id":0,"state":""}},{"type":"heading2"},{"type":"paragraph"},{"type":"paragraph"}]}},"children":{"dataUrl":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}},"nationalRevenueCsvText":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"height":280,"isViewActive":false},"Formula":{"height":7000,"isViewActive":true},"Private":{"isViewActive":false}}}}},"nationalRevenueGraph":{"type":"apogeeapp.ChartJSCell","chartType":"line","viewState":{"childDisplayState":{"views":{"Chart":{"isViewActive":true},"Input":{"isViewActive":true}}}}},"dateLabels":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"nationalRevenue":{"type":"apogeeapp.CSVCell","viewState":{"childDisplayState":{"views":{"Header":{"isViewActive":false},"Data":{"isViewActive":false},"Input":{"isViewActive":true}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}