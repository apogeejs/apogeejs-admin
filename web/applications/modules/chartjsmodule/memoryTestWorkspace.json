{"fileType":"apogee app js workspace","version":"0.60","references":{"refEntries":[{"url":"/applications/modules/chartjsmodule/src/ChartJSComponentModule.js","nickname":"ChartJSComponentModule.j","entryType":"es module"}],"viewState":{"treeState":1,"lists":{"es module":{"treeState":1},"js link":{"treeState":0},"css link":{"treeState":0}}}},"code":{"model":{"fileType":"apogee model","version":0.3,"name":"ChartDevWorkspace","children":{"testData":{"name":"testData","type":"apogee.Folder","children":{"xDataStrings":{"name":"xDataStrings","type":"apogee.JsonMember","updateData":{"data":["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}},"xDataNumbers":{"name":"xDataNumbers","type":"apogee.JsonMember","updateData":{"data":[1,2,3,4,5,6,7]}},"yData1":{"name":"yData1","type":"apogee.JsonMember","updateData":{"data":[4,2,7,3,7,2,7]}},"yData2":{"name":"yData2","type":"apogee.JsonMember","updateData":{"data":[3,1,9,12,4,1,0]}},"chartConfig":{"name":"chartConfig","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return {\n    type: \"line\",\n    data: {\n        labels: xData,\n        datasets: [\n            {\n                //data\n                data: yData1,\n                //[prop name] [type] [scriptable] [default] [options - where applicable] {desc}\n                //backgroundColor\tColor\tYes\t-\t'rgba(0, 0, 0, 0.1)'\n                backgroundColor: \"rgba(0,0,255,.1)\",\n                //borderCapStyle\tstring\tYes\t-\t'butt'  ['butt','round','sqaure']\n                //borderColor\tColor\tYes\t-\t'rgba(0, 0, 0, 0.1)'\n                //borderDash\tnumber[]\tYes\t-\t[]      {an array of alternating distances to draw for dashes}\n                //borderDashOffset\tnumber\tYes\t-\t0.0\n                //borderJoinStyle\tstring\tYes\t-\t'miter' [\"bevel, \"round\", \"miter\"]\n                //borderWidth\tnumber\tYes\t-\t3\n                //cubicInterpolationMode\tstring\tYes\t-\t'default' [\"default\", \"monotone\"] (monoton prevents bumps in the interpolation not seen in data)\n                //clip\tnumber|object\t-\t-\tborderWidth / 2\n                //fill\tboolean|string\tYes\t-\ttrue [true,false];[\"origin\" - from origin,\"end\" - to top,\"start\" - to bottom];[1,2,3 - to dateset number];[1,-1 - relative data set number]\n                fill: \"top\",\n                //hoverBackgroundColor\tColor\tYes\t-\tundefined\n                //hoverBorderCapStyle\tstring\tYes\t-\tundefined\n                //hoverBorderColor\tColor\tYes\t-\tundefined\n                //hoverBorderDash\tnumber[]\tYes\t-\tundefined\n                //hoverBorderDashOffset\tnumber\tYes\t-\tundefined\n                //hoverBorderJoinStyle\tstring\tYes\t-\tundefined\n                //hoverBorderWidth\tnumber\tYes\t-\n                //label\tstring\t-\t-\t''\n                label: \"yData1\",\n                //lineTension\tnumber\t-\t-\t0.4\n                //order\tnumber\t-\t-\t0 {draw order for points, also affects stacking, tooltip, legend}\n                //pointBackgroundColor\tColor\tYes\tYes\t'rgba(0, 0, 0, 0.1)'\n                //pointBorderColor\tColor\tYes\tYes\t'rgba(0, 0, 0, 0.1)'\n                //pointBorderWidth\tnumber\tYes\tYes\t1\n                //pointHitRadius\tnumber\tYes\tYes\t1\n                //pointHoverBackgroundColor\tColor\tYes\tYes\tundefined\n                //pointHoverBorderColor\tColor\tYes\tYes\tundefined\n                //pointHoverBorderWidth\tnumber\tYes\tYes\t1\n                //pointHoverRadius\tnumber\tYes\tYes\t4\n                //pointRadius\tnumber\tYes\tYes\t3\n                //pointRotation\tnumber\tYes\tYes\t0\n                //pointStyle\tstring|Image\tYes\tYes\t'circle' ['circle', 'cross', 'dash', 'line', 'rect', 'rectRounded', 'rectRot', 'star', 'triangle']\n                pointStyle: \"triangle\",\n                //showLine\tboolean\t-\t-\tundefined\n                //spanGaps\tboolean\t-\t-\tundefined       {false - show a gap if there is non-numeric y value for a x value, true - just connect points}\n                //steppedLine\tboolean|string\t-\t-\tfalse [false, true (same as \"before\")];[\"before\",\"after\",\"middle\"]\n                steppedLine: \"middle\",\n                //xAxisID\tstring\t-\t-\tfirst x axis        {x axis to use}\n                //yAxisID\tstring\t-\t-\tfirst y axis        {y axis to use}\n            },\n            {\n                data: yData2,\n                fill: \"top\",\n                borderColor: \"green\",\n                borderWidth: 1,\n                backgroundColor: \"rgba(0,255,0,.1)\",\n                borderDash: [3,3],\n                pointStyle: \"rect\",\n                radius: 10,\n                pointBorderColor: \"cyan\",\n                pointBackgroundColor: \"black\",\n                pointBorderWidth: 3,\n                pointHoverBackgroundColor: \"red\",\n                pointHoverRadius: 20,\n                pointHoverBorderWidth: 5,\n                pointHoverBorderColor: \"yellow\",\n                label: \"yData2\"\n            }\n        ]\n    },\n    options: {\n        elements: {\n            line: {\n                tension: 0,\n                borderWidth: 5,\n                borderColor: \"rgba(255,0,0,.4)\",\n            },\n            point: {\n                radius: 10,\n                borderColor: \"orange\"\n            }\n        },\n\t\tscales: {\n\t\t\txAxes: [\n\t\t\t\t{\n\t\t\t\t    type: \"category\",\n\t\t\t\t\tdisplay: true\n\t\t\t\t}\n\t\t\t],\n\t\t\tyAxes: [\n\t\t\t\t{\n\t\t\t\t\t\"display\": true,\n\t\t\t\t\t\"stacked\": true\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\ttitle: {\n\t\t    text: \"Test Chart\",\n\t\t    display: true,\n\t\t    position: \"bottom\",\n\t\t    padding: 0,\n\t\t    fontSize: 100\n\t\t}\n\t}\n}","supplementalCode":""}},"points1":{"name":"points1","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return xDataNumbers.map( (xValue,index) => {\n    return {\n        x: xValue,\n        y: yData1[index]\n    };\n})","supplementalCode":""}},"points2":{"name":"points2","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"return xDataNumbers.map( (xValue,index) => {\n    return {\n        x: xValue,\n        y: yData2[index]\n    };\n})","supplementalCode":""}}}},"charts":{"name":"charts","type":"apogee.Folder","children":{"chart":{"name":"chart","type":"apogee.JsonMember","updateData":{"argList":[],"functionBody":"let output = {};\noutput[\"inputType\"] = \"form\"\noutput[\"formData\"]= {};\noutput[\"formData\"][\"xValuesType\"] = \"category\"\noutput[\"formData\"][\"categoryDataSeries\"]= []\noutput[\"formData\"][\"categoryDataSeries\"][0]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"dataType\"] = \"values\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"yValues\"] = data1\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"label\"] = \"Dataset 1\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"fill\"] = true\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"selectAreaColor\"] = true\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"line\"][\"backgroundColor\"] = \"#ff00ee\"\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][0][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"dataType\"] = \"values\"\noutput[\"formData\"][\"categoryDataSeries\"][1][\"yValues\"] = data2\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"categoryDataSeries\"][1][\"options\"][\"point\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"]= {};\noutput[\"formData\"][\"options\"][\"xValuesType\"] = \"category\"\noutput[\"formData\"][\"options\"][\"title\"]= {};\noutput[\"formData\"][\"options\"][\"title\"][\"display\"] = true\noutput[\"formData\"][\"options\"][\"title\"][\"text\"] = \"Test!\"\noutput[\"formData\"][\"options\"][\"title\"][\"fontSize\"] = 12\noutput[\"formData\"][\"options\"][\"title\"][\"selectColor\"] = true\noutput[\"formData\"][\"options\"][\"title\"][\"fontColor\"] = \"#ff00a2\"\noutput[\"formData\"][\"options\"][\"legend\"]= {};\noutput[\"formData\"][\"options\"][\"legend\"][\"display\"] = false\noutput[\"formData\"][\"options\"][\"line\"]= {};\noutput[\"formData\"][\"options\"][\"line\"][\"selectColor\"] = false\noutput[\"formData\"][\"options\"][\"line\"][\"fill\"] = true\noutput[\"formData\"][\"options\"][\"line\"][\"selectAreaColor\"] = false\noutput[\"formData\"][\"options\"][\"point\"]= {};\noutput[\"formData\"][\"options\"][\"point\"][\"selectColor\"] = true\noutput[\"formData\"][\"options\"][\"point\"][\"borderColor\"] = \"#0d0d0d\"\noutput[\"formData\"][\"options\"][\"yAxes\"]= {};\noutput[\"formData\"][\"options\"][\"yAxes\"][\"type\"] = \"linear\"\noutput[\"formData\"][\"options\"][\"yAxes\"][\"stacked\"] = false\noutput[\"storedFormValue\"] = {\"inputType\":\"form\",\"formData\":{\"xValuesType\":\"category\",\"xCategories\":\"\",\"categoryDataSeries\":[{\"dataType\":\"values\",\"yValues\":\"data1\",\"options\":{\"label\":\"Dataset 1\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":true,\"selectAreaColor\":true,\"backgroundColor\":\"#ff00ee\",\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}},{\"dataType\":\"values\",\"yValues\":\"data2\",\"options\":{\"label\":\"\",\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":\"default\",\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":false,\"borderWidth\":\"default\"}}}],\"options\":{\"xValuesType\":\"category\",\"title\":{\"display\":true,\"text\":\"Test!\",\"fontSize\":12,\"selectColor\":true,\"fontColor\":\"#ff00a2\"},\"legend\":{\"display\":false},\"line\":{\"selectColor\":false,\"borderWidth\":\"default\",\"fill\":true,\"selectAreaColor\":false,\"doLineTension\":\"default\",\"spanGaps\":\"default\",\"stepped\":\"default\"},\"point\":{\"showPoints\":\"default\",\"pointStyle\":\"default\",\"radius\":\"default\",\"selectColor\":true,\"borderColor\":\"#0d0d0d\",\"borderWidth\":\"default\"},\"yAxes\":{\"type\":\"linear\",\"stacked\":false}}}}\nreturn output;","supplementalCode":""}},"data1":{"name":"data1","type":"apogee.JsonMember","updateData":{"data":[4,2,7,3,7,2,7]}},"data2":{"name":"data2","type":"apogee.JsonMember","updateData":{"data":[3,1,9,12,4,1,0]}},"updater":{"name":"updater","type":"apogee.FunctionMember","updateData":{"argList":["admin"],"functionBody":"let handle = null;\nlet updateNumber = 1;\nlet count = 0;\n\nlet updateFunction = () => {\n    console.log(\"About to do update: \" + updateNumber++ + \" of \" + count);\n    try {\n        admin.getCommandMessenger().compoundDataCommand([[\"data1\",testData.yData1],[\"data2\",testData.yData2]]);\n    }\n    catch(error) {\n        console.error(error.stack);\n    }\n    if(updateNumber > count) clearInterval(handle);\n}\n\nlet onSubmit = formValue => {\n    updateNumber = 1;\n    count = parseInt(formValue.iterations);\n    \n    let interval = parseInt(formValue.interval);\n    if((count > 0)&&(interval > 0)) {\n        let intervalMs = 100;\n        handle = setInterval(updateFunction,intervalMs);\n    }\n}\n\nreturn [\n    {\n        type: \"heading\",\n        text: \"Updater\"\n    },\n    {\n        type: \"textField\",\n        label: \"Iterations: \",\n        value: 0,\n        key: \"iterations\"\n    },\n    {\n        type: \"textField\",\n        label: \"Interval msec: \",\n        value: 100,\n        key: \"interval\"\n    },\n    {\n        type: \"submit\",\n        onSubmit: onSubmit\n    }\n]","supplementalCode":""}}}}}},"components":{"testData":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Input Data"}]},{"type":"paragraph","content":[{"type":"text","text":"The following cells give input data to populate the charts."}]},{"type":"apogeeComponent","attrs":{"name":"xDataStrings","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"xDataNumbers","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"yData1","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"yData2","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"points1","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"points2","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"chartConfig","id":0,"state":""}},{"type":"heading2"},{"type":"paragraph"}]}},"children":{"xDataStrings":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"xDataNumbers":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"height":280,"isViewActive":true},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"yData1":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"yData2":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"chartConfig":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"height":280,"isViewActive":false},"Formula":{"isViewActive":true,"height":560},"Private":{"isViewActive":false}}}}},"points1":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}},"points2":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":true,"height":280},"Formula":{"isViewActive":true,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":-1,"tabOpened":true}},"charts":{"type":"apogeeapp.PageComponent","data":{"doc":{"type":"doc","content":[{"type":"heading1","content":[{"type":"text","text":"Charts Page"}]},{"type":"apogeeComponent","attrs":{"name":"updater","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"data1","id":0,"state":""}},{"type":"paragraph"},{"type":"apogeeComponent","attrs":{"name":"data2","id":0,"state":""}},{"type":"paragraph","content":[{"type":"text","text":"This is a page for testing the plain charts."}]},{"type":"apogeeComponent","attrs":{"name":"chart","id":0,"state":""}}]}},"children":{"chart":{"type":"apogeeapp.ChartJSCell","chartType":"line","debugOutputType":"Chart Config","viewState":{"childDisplayState":{"views":{"Chart":{"isViewActive":true},"Input":{"isViewActive":true},"Config (Debug)":{"isViewActive":false,"height":280}}}}},"data1":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":false,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"data2":{"type":"apogeeapp.JsonCell","dataView":"Colorized","viewState":{"childDisplayState":{"views":{"Data":{"isViewActive":false,"height":280},"Formula":{"isViewActive":false},"Private":{"isViewActive":false}}}}},"updater":{"type":"apogeeapp.ActionFormCell","viewState":{"childDisplayState":{"views":{"Form":{"isViewActive":true},"Code":{"isViewActive":false,"height":7000},"Private":{"isViewActive":false}}}}}},"viewState":{"childDisplayState":null,"treeState":1,"tabOpened":true,"tabShowing":true}},"viewState":{"treeState":1}}},"viewState":{"treeState":1}}