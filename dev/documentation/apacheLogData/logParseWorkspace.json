{"fileType":"apogee app js workspace","version":"0.40","references":[],"workspace":{"fileType":"apogee workspace","version":0.2,"name":"Workspace","data":{"name":"Model","type":"apogee.Folder","children":{"apacheLog":{"name":"apacheLog","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return .textRequest(logUrl);","supplementalCode":"","description":""}},"parseStep1":{"name":"parseStep1","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"return apacheLog.split(\"\\n\").map(line => line.split(\" \"));","supplementalCode":"","description":""}},"parsedLog":{"name":"parsedLog","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var createEntry = row => {\n    var entry = {};\n    entry.ipAddress = row[0];\n    entry.date = _trimCharacters(row[3] + \" \" + row[4],1,1);\n    entry.method = _trimCharacters(row[5],1,0);\n    entry.path = row[6];\n    entry.protocol = _trimCharacters(row[7],0,1);\n    entry.responceCode = row[8];\n    \n    if(entry.path.includes(\"?\")) throw new Error(\"Doh! There is a query string!\");\n    \n    return entry;\n}\n\nreturn parseStep1.map(createEntry);","supplementalCode":"function _trimCharacters(text,fromStart,fromEnd) {\n    return text.substring(fromStart,text.length-fromEnd);\n}","description":""}},"endpointCounts":{"name":"endpointCounts","type":"apogee.JsonTable","updateData":{"argList":[],"functionBody":"var result = {};\n\nvar addToResult = entry => {\n    if(result[entry.path] !== undefined) {\n        result[entry.path]++;\n    }\n    else {\n        result[entry.path] = 1;\n    }\n}\n\nparsedLog.forEach(addToResult);\n\nreturn result;","supplementalCode":"","description":""}},"logUrl":{"name":"logUrl","type":"apogee.JsonTable","updateData":{"data":"https://www.apogeejs.com/web/examples/apacheLogData/sampleShort.log","description":""}}}}},"components":{"type":"apogeeapp.app.FolderComponent","tabOpen":true,"treeState":-1,"children":{"apacheLog":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":680,"height":321},"posInfo":{"x":60,"y":178},"state":0,"viewType":"Data"},"dataView":"Text Data"},"parseStep1":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":762,"height":349},"posInfo":{"x":53,"y":591},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"parsedLog":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":638,"height":460},"posInfo":{"x":52,"y":669},"state":-1,"viewType":"Data"},"dataView":"Colorized"},"endpointCounts":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":505,"height":116},"posInfo":{"x":888,"y":136},"state":0,"viewType":"Data"},"dataView":"Colorized"},"logUrl":{"type":"apogeeapp.app.JsonTableComponent","windowState":{"sizeInfo":{"width":629,"height":35},"posInfo":{"x":80,"y":35},"state":0,"viewType":"Data"},"dataView":"Colorized"}}},"activeTabMember":"Model"}